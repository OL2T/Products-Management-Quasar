(()=>{"use strict";var e={526:(e,r,t)=>{var a=t(9436),o=t(1284);const s=(0,a.pM)({name:"User Management",setup(){return()=>(0,a.bF)((0,a.g2)("q-layout"),{view:"hHh Lpr lff",class:"h-full"},{default:()=>[(0,a.bF)((0,a.g2)("q-page-container"),{class:"h-full"},{default:()=>[(0,a.bF)((0,a.g2)("router-view"),null,null)]})]})}});var l=t(3245),n=t(4560),d=t(455),i=t(705),u=t(4568);const c=u.Ay`
  query GetProducts($limit: Int, $offset: Int) {
    products(limit: $limit, offset: $offset) {
      id
      name
      description
      category
      stock
      price
    }
  }
`,p=u.Ay`
  query GetTotalProducts {
    products_aggregate {
      aggregate {
        count
      }
    }
  }
`,g=u.Ay`
  mutation InsertProducts(
    $category: String
    $description: String
    $name: String
    $stock: Float
    $price: Float
  ) {
    insert_products(
      objects: {
        category: $category
        description: $description
        name: $name
        stock: $stock
        price: $price
      }
    ) {
      affected_rows
      returning {
        price
        stock
        category
        description
        id
        name
      }
    }
  }
`,b=u.Ay`
  mutation DeleteProduct($id: String!) {
    delete_products(where: { id: { _eq: $id } }) {
      affected_rows
      returning {
        id
        name
      }
    }
  }
`,m=u.Ay`
  query GetProductById($id: String!) {
    products(where: { id: { _eq: $id } }) {
      id
      name
      description
      category
      stock
      price
    }
  }
`,h=u.Ay`
  mutation UpdateProduct(
    $id: String!
    $category: String
    $description: String
    $name: String
    $stock: Float
    $price: Float
  ) {
    update_products(
      where: { id: { _eq: $id } }
      _set: {
        category: $category
        description: $description
        name: $name
        stock: $stock
        price: $price
      }
    ) {
      affected_rows
      returning {
        id
        name
        description
        category
        stock
        price
      }
    }
  }
`;var y=t(4097),f=t(9576);const v=(0,i.nY)("products",(()=>{const e=(0,a.KR)([]),r=(0,a.KR)(),t=(0,a.KR)(!1),o=(0,a.KR)(""),s=(0,a.KR)(!1),l=(0,a.KR)(!1),n=(0,a.KR)(1),i=(0,a.KR)(10),u=(0,a.KR)(0),v=(0,d.lq)(),x=e=>{const r=e.target;o.value=r.value},w=(0,a.EW)((()=>e.value.filter((e=>e.name.toLowerCase().includes(o.value.toLowerCase()))))),k=(0,a.EW)((()=>e.value.find((e=>e.id===v.params.id)))),{result:F,loading:A,error:P}=(0,y.IT)(p);(0,a.nT)((()=>{t.value=A.value,F.value&&(u.value=F.value.products_aggregate.aggregate.count),console.log("Total",u.value),P.value&&(console.error("Error fetching total products:",P.value),(0,f.oR)("Error fetching total products",{theme:"auto",type:"error",position:"top-right"}))}));const{result:$,loading:W,error:C,fetchMore:M}=(0,y.IT)(c,{limit:i.value,offset:(n.value-1)*i.value});(0,a.nT)((async()=>{if(t.value=W.value,$.value&&(e.value=$.value.products),C.value)return console.error("Error fetching products:",C.value),void(0,f.oR)("Error fetching products",{theme:"auto",type:"error",position:"top-right"})}));const S=e=>{n.value=e;const r=(n.value-1)*i.value;M({variables:{offset:r,limit:i.value},updateQuery:(e,{fetchMoreResult:r})=>r?{...e,products:r.products}:e})},V=e=>{const{result:o,loading:s,error:l}=(0,y.IT)(m,{id:e});(0,a.nT)((()=>{t.value=s.value,o.value&&o.value.products.length>0&&(r.value=o.value.products[0]),l.value&&(console.error("Error fetching product details:",l.value),(0,f.oR)("Error fetching product details",{theme:"auto",type:"error",position:"top-right"}))}))},Q=async r=>{const{mutate:t}=(0,y.n_)(g);try{const a=await t({name:r.name,category:r.category,description:r.description,stock:r.stock,price:r.price});if(!a?.data?.insert_products?.returning?.length)throw new Error("Failed to add product. No product returned.");{const r=a.data.insert_products.returning[0];e.value=[...e.value,r],u.value+=1,e.value.length>i.value&&S(n.value+1),s.value=!1,(0,f.oR)("Product added successfully",{theme:"auto",type:"success",position:"top-right"})}if(!a||!a.data||!a.data.insert_products)throw new Error("Mutation response structure is unexpected.")}catch(C){(0,f.oR)("Error adding product",{theme:"auto",type:"error",position:"top-right"}),console.error("Error adding product:",C)}},E=async r=>{const{mutate:t}=(0,y.n_)(b);try{const a=await t({id:r});if(console.log("Delete product mutation response:",a),!a?.data?.delete_products?.affected_rows)throw new Error("Failed to delete product. No rows affected.");e.value=e.value.filter((e=>e.id!==r)),u.value-=1,0===e.value.length&&n.value>1&&S(n.value-1),(0,f.oR)("Product deleted successfully",{theme:"auto",type:"success",position:"top-right"})}catch(C){(0,f.oR)("Error deleting product",{theme:"auto",type:"error",position:"top-right"}),console.error("Error deleting product:",C)}},I=async r=>{const{mutate:t}=(0,y.n_)(h);try{const a=await t({id:r.id,name:r.name,category:r.category,description:r.description,stock:r.stock,price:r.price});if(!a?.data?.update_products?.affected_rows)throw new Error("Failed to update product. No rows affected.");{const r=a.data.update_products.returning[0],t=e.value.findIndex((e=>e.id===r.id));console.log("Updated product:",r),console.log(t),-1!==t&&(console.log(e.value[t]),e.value=[...e.value.slice(0,t),r,...e.value.slice(t+1)]),(0,f.oR)("Product updated successfully",{theme:"auto",type:"success",position:"top-right"})}}catch(C){(0,f.oR)("Error updating product",{theme:"auto",type:"error",position:"top-right"}),console.error("Error updating product:",C)}};return{result:$,loading:W,error:C,product:r,products:e,isLoading:t,filterProducts:w,isShowCreateModal:s,detailProduct:k,isPopoverConfirmOpen:l,currentPage:n,totalItems:u,itemsPerPage:i,handleChangeInput:x,handleAddProduct:Q,handleDeleteProduct:E,fetchProductById:V,handleUpdateProduct:I,changePage:S}})),x=(0,a.pM)({name:"TableSkeleton",setup(){return()=>(0,a.bF)("tbody",{class:"w-full animate-pulse"},[(0,a.bF)("tr",{class:"odd:bg-[#fff] odd:dark:bg-gray-800 even:bg-gray-200 even:dark:bg-gray-700 border-b dark:border-gray-700"},[(0,a.bF)("th",{scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},null),(0,a.bF)("td",{class:"px-6 py-4"},null),(0,a.bF)("td",{class:"px-6 py-4"},null),(0,a.bF)("td",{class:"px-6 py-4"},null),(0,a.bF)("td",{class:"px-6 py-4"},null),(0,a.bF)("td",{class:"px-6 py-4"},null),(0,a.bF)("td",{class:"px-6 py-4"},null)]),(0,a.bF)("tr",{class:"odd:bg-[#fff] odd:dark:bg-gray-800 even:bg-gray-200 even:dark:bg-gray-700 border-b dark:border-gray-700"},[(0,a.bF)("th",{scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},null),(0,a.bF)("td",{class:"px-6 py-4"},null),(0,a.bF)("td",{class:"px-6 py-4"},null),(0,a.bF)("td",{class:"px-6 py-4"},null),(0,a.bF)("td",{class:"px-6 py-4"},null),(0,a.bF)("td",{class:"px-6 py-4"},null),(0,a.bF)("td",{class:"px-6 py-4"},null)]),(0,a.bF)("tr",{class:"odd:bg-[#fff] odd:dark:bg-gray-800 even:bg-gray-200 even:dark:bg-gray-700 border-b dark:border-gray-700"},[(0,a.bF)("th",{scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},null),(0,a.bF)("td",{class:"px-6 py-4"},null),(0,a.bF)("td",{class:"px-6 py-4"},null),(0,a.bF)("td",{class:"px-6 py-4"},null),(0,a.bF)("td",{class:"px-6 py-4"},null),(0,a.bF)("td",{class:"px-6 py-4"},null),(0,a.bF)("td",{class:"px-6 py-4"},null)]),(0,a.bF)("tr",{class:"odd:bg-[#fff] odd:dark:bg-gray-800 even:bg-gray-200 even:dark:bg-gray-700 border-b dark:border-gray-700"},[(0,a.bF)("th",{scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},null),(0,a.bF)("td",{class:"px-6 py-4"},null),(0,a.bF)("td",{class:"px-6 py-4"},null),(0,a.bF)("td",{class:"px-6 py-4"},null),(0,a.bF)("td",{class:"px-6 py-4"},null),(0,a.bF)("td",{class:"px-6 py-4"},null),(0,a.bF)("td",{class:"px-6 py-4"},null)])])}});var w=t(5697),k=t(6397);const F=(0,a.pM)({name:"InputComponent",props:{id:String,type:{type:String,default:"text"},placeholder:String,modelValue:[String,Number],error:Boolean,errorMessage:Array,name:String},emits:["update:modelValue"],setup(e,{emit:r}){const t=e=>{const t=e.target;r("update:modelValue",t.value)};return()=>(0,a.bF)("div",{class:""},[(0,a.bF)("label",{for:e.id,class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},[e.name,(0,a.eW)(" "),(0,a.bF)("span",{class:"text-red-500"},[(0,a.eW)("*")]),(0,a.eW)(":")," "]),(0,a.bF)("input",{id:e.id,type:e.type,placeholder:e.placeholder,value:e.modelValue,onInput:t,class:["bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",e.error&&"bg-red-50 border border-red-500 text-red-900 placeholder-red-700 dark:bg-red-200 dark:text-red-500 dark:placeholder:text-[#fff]"]},null),(0,a.bF)("div",{class:"flex h-6 gap-x-2"},[e.error&&e.errorMessage&&(0,a.bF)("div",{class:"flex gap-x-2 text-red-500 dark:text-red-400 text-[13px]"},[e.errorMessage])])])}}),A=(0,a.pM)({name:"Create Products",setup(){const e=v(),r=(0,a.Kh)({name:"",description:"",category:"",stock:0,price:0}),t=(0,a.EW)((()=>({name:{required:k.mw,minLength:(0,k.Bp)(3)},description:{required:k.mw,minLength:(0,k.Bp)(3)},category:{required:k.mw,minLength:(0,k.Bp)(3)},stock:{required:k.mw,minValue:(0,k.Ww)(1)},price:{required:k.mw,minValue:(0,k.Ww)(1)}}))),o=(0,w.Ay)(t,r),s=async t=>{t.preventDefault();const a=await o.value.$validate();a&&(e.handleAddProduct({...r}),o.value.$reset(),r.name="",r.description="",r.category="",r.stock=0,r.price=0)};return()=>(0,a.bF)("form",{class:"p-4 min-w-[480px]",onSubmit:s},[(0,a.bF)("div",{class:"mb-5"},[(0,a.bF)(F,{name:"Product Name",id:"name",placeholder:"Enter name",modelValue:r.name,"onUpdate:modelValue":e=>r.name=e,error:o.value.name.$error,errorMessage:o.value.name.$errors.map((e=>e.$message))},null),(0,a.bF)(F,{name:"Category",id:"category",placeholder:"Enter category",modelValue:r.category,"onUpdate:modelValue":e=>r.category=e,error:o.value.category.$error,errorMessage:o.value.category.$errors.map((e=>e.$message))},null),(0,a.bF)(F,{name:"Description",id:"description",placeholder:"Enter description",modelValue:r.description,"onUpdate:modelValue":e=>r.description=e,error:o.value.description.$error,errorMessage:o.value.description.$errors.map((e=>e.$message))},null),(0,a.bF)(F,{name:"Stock",id:"stock",type:"number",placeholder:"Enter stock",modelValue:r.stock,"onUpdate:modelValue":e=>r.stock=e,error:o.value.stock.$error,errorMessage:o.value.stock.$errors.map((e=>e.$message))},null),(0,a.bF)(F,{name:"Price",id:"price",type:"number",placeholder:"Enter price",modelValue:r.price,"onUpdate:modelValue":e=>r.price=e,error:o.value.price.$error,errorMessage:o.value.price.$errors.map((e=>e.$message))},null)]),(0,a.bF)("div",{class:"flex gap-x-4 items-center"},[(0,a.bF)("button",{type:"submit",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"},[(0,a.eW)("Create")])])])}}),P=(0,a.pM)({setup(){const e=v(),r=(0,d.rd)(),t=(0,a.KR)(null),o=r=>{e.changePage(r)},s=e=>{t.value!==e?t.value=e:t.value=null},l=()=>{e.isPopoverConfirmOpen=!0},n=r=>{e.handleDeleteProduct(r),e.isPopoverConfirmOpen=!1},i=(0,a.EW)((()=>Math.ceil(e.totalItems/e.itemsPerPage)));return{store:e,activePopoverId:t,router:r,totalPages:i,handleShowPopover:s,handleDeleteProduct:n,handleShowConfirmPopover:l,handlePageChange:o}},render(){const{store:e,activePopoverId:r,router:t,totalPages:o,handleShowPopover:s,handleShowConfirmPopover:l,handleDeleteProduct:n,handlePageChange:d}=this;return(0,a.bF)("div",{class:"relative"},[(0,a.bF)("div",{class:"filter flex items-center mb-5 gap-x-4"},[(0,a.bF)("input",{type:"text",class:"flex-auto px-4 py-2 border border-gray-200 dark:border-gray-700 rounded-md focus:outline-none  dark:bg-gray-800 dark:text-white",placeholder:"Search products...",onInput:r=>e.handleChangeInput(r)},null),(0,a.bF)("div",null,[(0,a.bF)("button",{id:"dropdownActionButton","data-dropdown-toggle":"dropdownAction",class:"inline-flex items-center text-gray-500 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-100 font-medium rounded-lg text-sm px-3 py-1.5 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700",type:"button"},[(0,a.bF)("span",{class:"sr-only"},[(0,a.eW)("Sort By")]),(0,a.eW)("Action"),(0,a.bF)("svg",{class:"w-2.5 h-2.5 ms-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6"},[(0,a.bF)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 4 4 4-4"},null)])]),(0,a.bF)("div",{id:"dropdownAction",class:"z-10 hidden bg-[#fff] divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-gray-700 dark:divide-gray-600"},[(0,a.bF)("ul",{class:"py-1 text-sm text-gray-700 dark:text-gray-200","aria-labelledby":"dropdownActionButton"},[(0,a.bF)("li",null,[(0,a.bF)("a",{href:"#",class:"block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},[(0,a.eW)("Reward")])]),(0,a.bF)("li",null,[(0,a.bF)("a",{href:"#",class:"block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},[(0,a.eW)("Promote")])]),(0,a.bF)("li",null,[(0,a.bF)("a",{href:"#",class:"block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},[(0,a.eW)("Activate account")])])]),(0,a.bF)("div",{class:"py-1"},[(0,a.bF)("a",{href:"#",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white"},[(0,a.eW)("Delete User")])])])]),(0,a.bF)("div",{class:"flex justify-end"},[(0,a.bF)("button",{onClick:()=>e.isShowCreateModal=!0,type:"button",class:"block text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm  dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800 px-5 py-2"},[(0,a.eW)("Create New")]),e.isShowCreateModal&&(0,a.bF)("div",{class:"fixed inset-0 z-50 bg-gray-900 bg-opacity-50 flex items-center justify-center"},[(0,a.bF)("div",{class:"bg-[#fff] rounded-sm shadow-sm mx-4 dark:bg-gray-800"},[(0,a.bF)("div",{class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600"},[(0,a.bF)("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},[(0,a.eW)("Create New Product")]),(0,a.bF)("button",{type:"button",onClick:()=>e.isShowCreateModal=!1,class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-toggle":"crud-modal"},[(0,a.bF)("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[(0,a.bF)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"},null)]),(0,a.bF)("span",{class:"sr-only"},[(0,a.eW)("Close modal")])])]),(0,a.bF)(A,null,null)])])])]),(0,a.bF)("div",{class:"flex flex-col"},[(0,a.bF)("div",{class:"product-list w-full flex-1 max-h-[750px] overflow-x-auto"},[(0,a.bF)("table",{class:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400 rounded-sm max-h-[750px] overflow-auto"},[(0,a.bF)("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[(0,a.bF)("tr",null,[(0,a.bF)("th",{scope:"col",class:"px-6 py-3"},[(0,a.eW)("S/N")]),(0,a.bF)("th",{scope:"col",class:"px-6 py-3"},[(0,a.eW)("Product name")]),(0,a.bF)("th",{scope:"col",class:"px-6 py-3"},[(0,a.eW)("Description")]),(0,a.bF)("th",{scope:"col",class:"px-6 py-3"},[(0,a.eW)("Category")]),(0,a.bF)("th",{scope:"col",class:"px-6 py-3"},[(0,a.eW)("Price")]),(0,a.bF)("th",{scope:"col",class:"px-6 py-3"},[(0,a.eW)("Stock")]),(0,a.bF)("th",{scope:"col",class:"px-6 py-3"},null)])]),e.isLoading?(0,a.bF)(x,null,null):(0,a.bF)("tbody",null,[e.products.map(((o,d)=>(0,a.bF)("tr",{key:o.id,class:"bg-[#fff] dark:bg-gray-800 dark:border-gray-700 border-b"},[(0,a.bF)("th",{scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},[d+1]),(0,a.bF)("th",{scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},[o.name]),(0,a.bF)("td",{class:"px-6 py-4"},[o.description]),(0,a.bF)("td",{class:"px-6 py-4"},[o.category]),(0,a.bF)("td",{class:"px-6 py-4"},[(0,a.eW)("$"),o.price]),(0,a.bF)("td",{class:"px-6 py-4"},[o.stock]),(0,a.bF)("td",{class:"px-6 py-4 flex items-center justify-end relative"},[(0,a.bF)("button",{onClick:()=>s(o.id),class:"hover:cursor-pointer text-[#fff]"},[(0,a.bF)("svg",{class:["w-6 h-6",r&&r===o.id?"text-blue-500 dark:text-blue-300":"text-gray-800 dark:text-gray-400"],"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[(0,a.bF)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-width":"3",d:"M12 6h.01M12 12h.01M12 18h.01"},null)])]),r===o.id&&(0,a.bF)("div",{class:"absolute bg-gray-100 dark:bg-gray-700 min-w-[max-content] top-[55px] right-4 z-50 py-2 px-1 rounded-sm flex flex-col shadow-lg"},[(0,a.bF)("div",{className:"absolute top-0 right-[10px] border-x-transparent border-t-transparent border-b-[10px]"},[(0,a.bF)("div",{class:"w-0 h-0 absolute right-0 -translate-y-full border-x-transparent border-x-[11px] border-t-transparent border-t-[9px] border-b-[9px] border-b-gray-100 dark:border-b-gray-700"},null)]),(0,a.bF)("button",{onClick:e=>{e.stopPropagation(),t.push({path:`product/${o.id}`})},class:"flex items-center gap-x-2 px-3 py-2 dark:child:text-[#fff] hover:bg-[#fff] dark:hover:bg-gray-600 dark:hover:text-white"},[(0,a.bF)("svg",{class:"w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[(0,a.bF)("path",{stroke:"currentColor","stroke-width":"2",d:"M21 12c0 1.2-4.03 6-9 6s-9-4.8-9-6c0-1.2 4.03-6 9-6s9 4.8 9 6Z"},null),(0,a.bF)("path",{stroke:"currentColor","stroke-width":"2",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"},null)]),(0,a.bF)("div",null,[(0,a.eW)("View Detail")])]),(0,a.bF)("button",{onClick:e=>{e.stopPropagation(),t.push({path:`update/${o.id}`})},class:"flex items-center gap-x-2 px-3 py-2 dark:child:text-[#fff] hover:bg-[#fff] dark:hover:bg-gray-600 dark:hover:text-white"},[(0,a.bF)("svg",{class:"w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[(0,a.bF)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.779 17.779 4.36 19.918 6.5 13.5m4.279 4.279 8.364-8.643a3.027 3.027 0 0 0-2.14-5.165 3.03 3.03 0 0 0-2.14.886L6.5 13.5m4.279 4.279L6.499 13.5m2.14 2.14 6.213-6.504M12.75 7.04 17 11.28"},null)]),(0,a.bF)("div",null,[(0,a.eW)("Edit")])]),(0,a.bF)("button",{onClick:l,class:"flex items-center gap-x-2 px-3 py-2  hover:bg-[#fff] dark:hover:bg-gray-600 dark:text-[#fff] hover:text-red-500 child-hover:text-red-500  dark:child-hover:text-red-500"},[(0,a.bF)("svg",{class:"w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[(0,a.bF)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 7h14m-9 3v8m4-8v8M10 3h4a1 1 0 0 1 1 1v3H9V4a1 1 0 0 1 1-1ZM6 7h12v13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7Z"},null)]),(0,a.bF)("div",null,[(0,a.eW)("Delete")])]),e.isPopoverConfirmOpen&&(0,a.bF)("div",{class:"fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 max-h-full bg-[#000] bg-opacity-80"},[(0,a.bF)("div",{class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 p-4 w-full max-w-md max-h-full"},[(0,a.bF)("div",{class:"relative bg-[#fff] rounded-lg shadow dark:bg-gray-700"},[(0,a.bF)("button",{onClick:()=>e.isPopoverConfirmOpen=!1,type:"button",class:"absolute top-3 end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-hide":"popup-modal"},[(0,a.bF)("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[(0,a.bF)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"},null)]),(0,a.bF)("span",{class:"sr-only"},[(0,a.eW)("Close modal")])]),(0,a.bF)("div",{class:"p-4 md:p-5 text-center"},[(0,a.bF)("svg",{class:"mx-auto mb-4 text-gray-400 w-12 h-12 dark:text-gray-200","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},[(0,a.bF)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"},null)]),(0,a.bF)("h3",{class:"mb-5 text-lg font-normal text-gray-500 dark:text-gray-400"},[(0,a.eW)("Are you sure you want to delete this product?")]),(0,a.bF)("button",{"data-modal-hide":"popup-modal",type:"button",onClick:()=>n(o.id),class:"text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 dark:focus:ring-red-800 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center"},[(0,a.eW)("Yes, I'm sure")]),(0,a.bF)("button",{type:"button",onClick:()=>e.isPopoverConfirmOpen=!1,class:"py-2.5 px-5 ms-3 text-sm font-medium text-gray-900 focus:outline-none bg-[#fff] rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700"},[(0,a.eW)("No, cancel")])])])])])])])])))])])]),(0,a.bF)("nav",{class:"flex items-center flex-column flex-wrap md:flex-row justify-between pt-4 mt-auto","aria-label":"Table navigation"},[(0,a.bF)("span",{class:"text-sm font-normal text-gray-500 dark:text-gray-400 mb-4 md:mb-0 block w-full md:inline md:w-auto"},[(0,a.eW)("Showing")," ",(0,a.bF)("span",{class:"font-semibold text-gray-900 dark:text-white"},[(e.currentPage-1)*e.itemsPerPage+1,(0,a.eW)("-"),Math.min(e.currentPage*e.itemsPerPage,e.totalItems)])," ",(0,a.eW)("of")," ",(0,a.bF)("span",{class:"font-semibold text-gray-900 dark:text-white"},[e.totalItems])]),(0,a.bF)("ul",{class:"inline-flex -space-x-px rtl:space-x-reverse text-sm h-8"},[(0,a.bF)("li",null,[(0,a.bF)("button",{disabled:e.currentPage<=1,onClick:()=>d(e.currentPage-1),class:"flex items-center justify-center px-3 h-8 ms-0 leading-tight text-gray-500 bg-[#fff] border border-gray-300 rounded-s-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},[(0,a.eW)("Previous")])]),Array.from({length:o},((r,t)=>(0,a.bF)("li",{key:t+1},[(0,a.bF)("button",{onClick:()=>d(t+1),class:"flex items-center justify-center px-3 h-8 leading-tight text-gray-500  border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white "+(e.currentPage===t+1?"is-active bg-blue-50 text-gray-700 dark:bg-gray-700 dark:text-white":"bg-[#fff] dark:bg-gray-800")},[t+1])]))),(0,a.bF)("li",null,[(0,a.bF)("button",{disabled:e.currentPage>=o,onClick:()=>d(e.currentPage+1),class:"flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-[#fff] border border-gray-300 rounded-e-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},[(0,a.eW)("Next")])])])])])])}}),$=(0,a.pM)({name:"ChildComponent",props:{message:{type:String,required:!0}},emits:["updateMessage"],setup(e,{emit:r}){const t=()=>{r("updateMessage","Hello from Child!")};return()=>(0,a.bF)("div",null,[(0,a.bF)("h3",null,[(0,a.eW)("Child Component")]),(0,a.bF)("p",null,[(0,a.eW)("Message from Parent: "),e.message]),(0,a.bF)("button",{class:"p-4 bg-blue-300",onClick:t},[(0,a.eW)("Send Message to Parent")])])}}),W=(0,a.pM)({name:"Dashboard - Parent Component",setup(){const e=(0,a.KR)("Hello from Parent!"),r=(0,a.KR)(""),t=e=>{r.value=e};return()=>(0,a.bF)("div",{class:"text-white"},[(0,a.bF)("h2",null,[(0,a.eW)("Parent Component")]),(0,a.bF)($,{class:"bg-white text-black",message:e.value,onUpdateMessage:t},null),(0,a.bF)("p",null,[(0,a.eW)("Updated Message from Child: "),r.value])])}});var C=t(9120),M=t(5535);const S=(0,i.nY)("auth",(()=>{const e=(0,a.KR)(null),r=(0,a.KR)(!1),t=(0,a.KR)(null),o=(0,d.rd)(),s=async(a,o,s)=>{r.value=!0,t.value=null;try{const r=await(0,C.eJ)(M.auth,a,o),t={id:r.user.uid,email:r.user.email,username:s};e.value=t,await(0,C.r7)(r.user,{displayName:s}),console.log("newUser",t);const l="myadminsecretkey",n="http://localhost:8080/v1/graphql",d='mutation($userId: String!, $userEmail: String, $username: String) {\n        insert_users(objects: [{\n          id: $userId, username: $username, email: $userEmail, last_seen: "now()"\n        }], on_conflict: {constraint: users_pkey, update_columns: [last_seen, email]}\n        ) {\n          affected_rows\n        }\n      }',i={userId:t.id,userEmail:t.email,username:t.username};fetch(n,{method:"post",headers:{"content-type":"application/json","x-hasura-admin-secret":l},body:JSON.stringify({query:d,variables:i})}),(0,f.oR)("User registered successfully",{theme:"auto",type:"success",position:"top-right"})}catch(l){t.value=l.message,(0,f.oR)(`${l.message}`,{theme:"auto",type:"error",position:"top-right"})}finally{r.value=!1}},l=async(a,s)=>{r.value=!0,t.value=null;try{const r=await(0,C.x9)(M.auth,a,s),t={id:r.user.uid,email:r.user.email,username:r.user.displayName};e.value=t,console.log(t);const l=await r.user.getIdToken();localStorage.setItem("accessToken",l),localStorage.setItem("user",JSON.stringify(t)),(0,f.oR)("User logged in successfully",{theme:"auto",type:"success",position:"top-right",onClose:()=>{o.push({path:"/products"})}})}catch(l){t.value=l.message;"Firebase: Error (auth/user-not-found)."===l.message||l.message;const e="Firebase: Error (auth/invalid-credential)."===l.message?"Email or Password is incorrect":l.message;(0,f.oR)(`${e}`,{theme:"auto",type:"error",position:"top-right"})}finally{r.value=!1}},n=async()=>{r.value=!0,t.value=null;try{await(0,C.CI)(M.auth),e.value=null,localStorage.removeItem("accessToken"),localStorage.removeItem("user"),o.push({path:"/login"})}catch(a){t.value=a.message}finally{r.value=!1}};return{user:e,loading:r,error:t,register:s,login:l,logout:n}})),V=(0,a.pM)({setup(){const e=(0,d.lq)(),r=(S(),r=>e.path===r?"bg-gray-300 dark:bg-gray-600":"");return()=>(0,a.bF)("aside",{id:"default-sidebar",class:"fixed top-0 left-0 z-40 w-64 h-screen bg-gray-50 dark:bg-gray-800 dark:text-white min-w-[280px] transition-transform -translate-x-full sm:translate-x-0","aria-label":"Sidebar"},[(0,a.bF)("div",{class:"p-4"},[(0,a.bF)("div",{class:"w-full text-center text-3xl font-bold mb-5"},[(0,a.bF)(d.Wk,{to:"/"},{default:()=>[(0,a.eW)("Logo")]})])]),(0,a.bF)("div",{class:"h-full px-3 py-4 overflow-y-auto bg-gray-50 dark:bg-gray-800"},[(0,a.bF)("ul",{class:"space-y-2 font-medium"},[(0,a.bF)("li",null,[(0,a.bF)(d.Wk,{to:"/dashboard",class:["flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group",r("/dashboard")]},{default:()=>[(0,a.bF)("svg",{class:"w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 22 21"},[(0,a.bF)("path",{d:"M16.975 11H10V4.025a1 1 0 0 0-1.066-.998 8.5 8.5 0 1 0 9.039 9.039.999.999 0 0 0-1-1.066h.002Z"},null),(0,a.bF)("path",{d:"M12.5 0c-.157 0-.311.01-.565.027A1 1 0 0 0 11 1.02V10h8.975a1 1 0 0 0 1-.935c.013-.188.028-.374.028-.565A8.51 8.51 0 0 0 12.5 0Z"},null)]),(0,a.bF)("span",{class:"ms-3"},[(0,a.eW)("Dashboard")])]})]),(0,a.bF)("li",null,[(0,a.bF)(d.Wk,{to:"/",class:["flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group",r("/")]},{default:()=>[(0,a.bF)("svg",{class:"flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 18 18"},[(0,a.bF)("path",{d:"M6.143 0H1.857A1.857 1.857 0 0 0 0 1.857v4.286C0 7.169.831 8 1.857 8h4.286A1.857 1.857 0 0 0 8 6.143V1.857A1.857 1.857 0 0 0 6.143 0Zm10 0h-4.286A1.857 1.857 0 0 0 10 1.857v4.286C10 7.169 10.831 8 11.857 8h4.286A1.857 1.857 0 0 0 18 6.143V1.857A1.857 1.857 0 0 0 16.143 0Zm-10 10H1.857A1.857 1.857 0 0 0 0 11.857v4.286C0 17.169.831 18 1.857 18h4.286A1.857 1.857 0 0 0 8 16.143v-4.286A1.857 1.857 0 0 0 6.143 10Zm10 0h-4.286A1.857 1.857 0 0 0 10 11.857v4.286c0 1.026.831 1.857 1.857 1.857h4.286A1.857 1.857 0 0 0 18 16.143v-4.286A1.857 1.857 0 0 0 16.143 10Z"},null)]),(0,a.bF)("span",{class:"flex-1 ms-3 whitespace-nowrap"},[(0,a.eW)("Kanban")]),(0,a.bF)("span",{class:"inline-flex items-center justify-center px-2 ms-3 text-sm font-medium text-gray-800 bg-gray-100 rounded-full dark:bg-gray-700 dark:text-gray-300"},[(0,a.eW)("Pro")])]})]),(0,a.bF)("li",null,[(0,a.bF)(d.Wk,{to:"/customers",class:["flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group",r("/customers")]},{default:()=>[(0,a.bF)("svg",{class:"flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 18"},[(0,a.bF)("path",{d:"M14 2a3.963 3.963 0 0 0-1.4.267 6.439 6.439 0 0 1-1.331 6.638A4 4 0 1 0 14 2Zm1 9h-1.264A6.957 6.957 0 0 1 15 15v2a2.97 2.97 0 0 1-.184 1H19a1 1 0 0 0 1-1v-1a5.006 5.006 0 0 0-5-5ZM6.5 9a4.5 4.5 0 1 0 0-9 4.5 4.5 0 0 0 0 9ZM8 10H5a5.006 5.006 0 0 0-5 5v2a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-2a5.006 5.006 0 0 0-5-5Z"},null)]),(0,a.bF)("span",{class:"flex-1 ms-3 whitespace-nowrap"},[(0,a.eW)("Customer")])]})]),(0,a.bF)("li",null,[(0,a.bF)(d.Wk,{to:"/products",class:["flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group",r("/products")]},{default:()=>[(0,a.bF)("svg",{class:"flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 18 20"},[(0,a.bF)("path",{d:"M17 5.923A1 1 0 0 0 16 5h-3V4a4 4 0 1 0-8 0v1H2a1 1 0 0 0-1 .923L.086 17.846A2 2 0 0 0 2.08 20h13.84a2 2 0 0 0 1.994-2.153L17 5.923ZM7 9a1 1 0 0 1-2 0V7h2v2Zm0-5a2 2 0 1 1 4 0v1H7V4Zm6 5a1 1 0 1 1-2 0V7h2v2Z"},null)]),(0,a.bF)("span",{class:"flex-1 ms-3 whitespace-nowrap"},[(0,a.eW)("Products")])]})])])])])}});var Q=t(5574),E=t(165);const I=(0,a.pM)({setup(){const e=(0,a.KR)(!1),r=S(),t=(0,a.KR)(null),o=(0,a.KR)(null),s=(0,a.KR)(null),l=JSON.parse(localStorage.getItem("user")||"{}"),n=()=>{e.value=!0},d=()=>{e.value=!1},{floatingStyles:i,placement:u,x:c,y:p,middlewareData:g,strategy:b}=(0,Q.we)(t,o,{placement:"bottom-end",middleware:[(0,E.cY)(),(0,E.UU)(),(0,E.BN)(),(0,Q.UE)({element:s,padding:20})],transform:!1}),m={transform:u.value.includes("bottom")?"rotate(45deg)":u.value.includes("top")?"rotate(-135deg)":u.value.includes("left")?"rotate(135deg)":"rotate(-45deg)"};return()=>(0,a.bF)("main",{class:"flex-1 sm:max-w-[calc(100%-280px)] ml-auto dark:bg-gray-500 h-[100vh]"},[(0,a.bF)("div",{class:"header-main flex items-center justify-between w-full bg-[#fff] dark:bg-gray-800 dark:text-white p-3 shadow-sm"},[(0,a.bF)("h4",{class:"font-medium text-lg"},[(0,a.eW)("Title")]),(0,a.bF)("div",{onMouseenter:n,onMouseleave:d,class:"relative"},[(0,a.bF)("div",{ref:t,class:"flex items-center gap-x-2 hover:cursor-pointer"},[(0,a.bF)("div",{class:"font-medium order-1"},[l.username?l.username:""]),(0,a.bF)("svg",{class:"w-10 h-10 text-gray-800 dark:text-white order-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[(0,a.bF)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1",d:"M12 21a9 9 0 1 0 0-18 9 9 0 0 0 0 18Zm0 0a8.949 8.949 0 0 0 4.951-1.488A3.987 3.987 0 0 0 13 16h-2a3.987 3.987 0 0 0-3.951 3.512A8.948 8.948 0 0 0 12 21Zm3-11a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"},null)])]),!0===e.value&&(0,a.bF)("div",null,[(0,a.bF)("div",{ref:o,style:{...i.value,width:"max-content",left:`${c.value}px`,top:`${p.value}px`},onMouseenter:n,onMouseleave:d,class:"z-50 bg-[#fff] border  divide-y divide-gray-100 rounded-lg shadow-md  dark:bg-gray-700 dark:divide-gray-600"},[(0,a.bF)("div",{ref:s,style:{...m,position:"absolute",left:null!=g.value.arrow?.x?`${g.value.arrow.x}px`:"",top:null!=g.value.arrow?.y?`${g.value.arrow.y}px`:"abc",width:"12px",height:"12px"},class:"bg-[#fff] dark:bg-gray-700 -mt-[7px] border-l border-t "},null),(0,a.bF)("div",{class:"px-4 py-3 text-sm text-gray-900 dark:text-white border-none"},[(0,a.bF)("div",null,[l.username?l.username:""]),(0,a.bF)("div",{class:"font-medium truncate"},[l.email?l.email:""])]),(0,a.bF)("ul",{class:"py-2 text-sm text-gray-700 dark:text-gray-200","aria-labelledby":"avatarButton"},[(0,a.bF)("li",null,[(0,a.bF)("a",{href:"#",class:"block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},[(0,a.eW)("Dashboard")])]),(0,a.bF)("li",null,[(0,a.bF)("a",{href:"#",class:"block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},[(0,a.eW)("Settings")])]),(0,a.bF)("li",null,[(0,a.bF)("a",{href:"#",class:"block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},[(0,a.eW)("Earnings")])])]),(0,a.bF)("div",{class:"py-1"},[(0,a.bF)("button",{onClick:r.logout,class:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white"},[(0,a.eW)("Sign out")])])])])])]),(0,a.bF)("div",{class:"p-4"},[(0,a.bF)((0,a.g2)("router-view"),null,null)])])}}),j=(0,a.pM)({setup(){return()=>(0,a.bF)("div",{class:"flex h-full w-full"},[(0,a.bF)(V,null,null),(0,a.bF)(I,null,null)])}}),R=(0,a.pM)({setup(){return()=>(0,a.bF)(j,null,null)}}),T=(0,a.pM)({setup(){return()=>(0,a.bF)("div",null,[(0,a.bF)("h1",{class:"text-2xl font-semibold"},[(0,a.eW)("Users")])])}}),B=(0,a.pM)({name:"login",setup(){const e=S(),r=(0,a.Kh)({email:"",password:""}),t=(0,a.EW)((()=>({email:{required:k.mw,email:k.Rp},password:{required:k.mw,minLength:(0,k.Bp)(6)}}))),o=(0,w.Ay)(t,r),s=async t=>{t.preventDefault();const a=await o.value.$validate();a&&(e.login(r.email,r.password),o.value.$reset(),r.email="",r.password="")};return()=>(0,a.bF)("div",{class:"relative"},[(0,a.bF)("div",{class:" fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0  max-h-full bg-[#333] bg-opacity-70"},[(0,a.bF)("div",{class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 p-4 w-full max-w-md max-h-full"},[(0,a.bF)("div",{class:"relative bg-[#fff] rounded-lg shadow dark:bg-gray-700"},[(0,a.bF)("div",{class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600"},[(0,a.bF)("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white"},[(0,a.eW)("Sign in to our platform")]),(0,a.bF)("button",{type:"button",class:"end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-hide":"authentication-modal"},[(0,a.bF)("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[(0,a.bF)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"},null)]),(0,a.bF)("span",{class:"sr-only"},[(0,a.eW)("Close modal")])])]),(0,a.bF)("div",{class:"p-4 md:p-5"},[(0,a.bF)("form",{class:"space-y-4",action:"submit",onSubmit:s},[(0,a.bF)("div",null,[(0,a.bF)(F,{type:"email",name:"Email",id:"email",placeholder:"alex@gmail.com",modelValue:r.email,"onUpdate:modelValue":e=>r.email=e,error:o.value.email.$error,errorMessage:o.value.email.$errors.map((e=>(0,a.bF)("span",{class:"text-red-500"},[e.$message])))},null),(0,a.bF)(F,{type:"password",name:"Password",id:"password",placeholder:"••••••••",modelValue:r.password,"onUpdate:modelValue":e=>r.password=e,error:o.value.password.$error,errorMessage:o.value.password.$errors.map((e=>(0,a.bF)("span",{class:"text-red-500"},[e.$message])))},null)]),(0,a.bF)("div",{class:"flex justify-between"},[(0,a.bF)("div",{class:"flex items-start"},[(0,a.bF)("div",{class:"flex items-center h-5"},[(0,a.bF)("input",{id:"remember",type:"checkbox",value:"",class:"w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-blue-300 dark:bg-gray-600 dark:border-gray-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800",required:!0},null)]),(0,a.bF)("label",{for:"remember",class:"ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"},[(0,a.eW)("Remember me")])]),(0,a.bF)("a",{href:"#",class:"text-sm text-blue-700 hover:underline dark:text-blue-500"},[(0,a.eW)("Lost Password?")])]),(0,a.bF)("button",{type:"submit",class:"w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},[(0,a.eW)("Login to your account")]),(0,a.bF)("div",{class:"text-sm font-medium text-gray-500 dark:text-gray-300"},[(0,a.eW)("Not registered?")," ",(0,a.bF)(d.Wk,{to:"/register",class:"text-blue-700 hover:underline dark:text-blue-500"},{default:()=>[(0,a.eW)("Create account")]})])])])])])])])}}),_=(0,a.pM)({name:"register",setup(){const e=S(),r=(0,a.Kh)({username:"",email:"",password:"",confirmPassword:""}),t=(0,a.EW)((()=>({username:{required:k.mw,minLength:(0,k.Bp)(6)},email:{required:k.mw,email:k.Rp},password:{required:k.mw,minLength:(0,k.Bp)(6)},confirmPassword:{required:k.mw,minLength:(0,k.Bp)(6),sameAs:(0,k.f4)(r.password)}}))),o=(0,w.Ay)(t,r),s=async t=>{t.preventDefault();const a=await o.value.$validate();a&&(console.log(r),e.register(r.email,r.password,r.username),o.value.$reset(),r.email="",r.username="",r.password="",r.confirmPassword="")};return()=>(0,a.bF)("div",{class:"relative"},[(0,a.bF)("div",{class:" fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0  max-h-full bg-[#333] bg-opacity-70"},[(0,a.bF)("div",{class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 p-4 w-full max-w-md max-h-full"},[(0,a.bF)("div",{class:"relative bg-[#fff] rounded-lg shadow dark:bg-gray-700"},[(0,a.bF)("div",{class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600"},[(0,a.bF)("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white"},[(0,a.eW)("Sign up your account")]),(0,a.bF)("button",{type:"button",class:"end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-hide":"authentication-modal"},[(0,a.bF)("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[(0,a.bF)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"},null)]),(0,a.bF)("span",{class:"sr-only"},[(0,a.eW)("Close modal")])])]),(0,a.bF)("div",{class:"p-4 md:p-5"},[(0,a.bF)("form",{class:"space-y-4",action:"submit",onSubmit:s},[(0,a.bF)("div",{class:""},[(0,a.bF)(F,{type:"text",name:"User name",id:"username",placeholder:"johndoe",modelValue:r.username,"onUpdate:modelValue":e=>r.username=e,error:o.value.username.$error,errorMessage:o.value.username.$errors.map((e=>(0,a.bF)("span",{class:"text-red-500"},[e.$message])))},null),(0,a.bF)(F,{type:"username",name:"Email",id:"email",placeholder:"alex@gmail.com",modelValue:r.email,"onUpdate:modelValue":e=>r.email=e,error:o.value.email.$error,errorMessage:o.value.email.$errors.map((e=>(0,a.bF)("span",{class:"text-red-500"},[e.$message])))},null),(0,a.bF)(F,{type:"password",name:"Password",id:"password",placeholder:"••••••••",modelValue:r.password,"onUpdate:modelValue":e=>r.password=e,error:o.value.password.$error,errorMessage:o.value.password.$errors.map((e=>(0,a.bF)("span",{class:"text-red-500"},[e.$message])))},null),(0,a.bF)(F,{type:"password",name:"Confirm Password",id:"confirm_password",placeholder:"••••••••",modelValue:r.confirmPassword,"onUpdate:modelValue":e=>r.confirmPassword=e,error:o.value.confirmPassword.$error,errorMessage:o.value.confirmPassword.$errors.map((e=>(0,a.bF)("span",{class:"text-red-500"},[e.$message])))},null)]),(0,a.bF)("button",{type:"submit",class:"w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},[(0,a.eW)("Register your account")]),(0,a.bF)("div",{class:"text-sm font-medium text-gray-500 dark:text-gray-300"},[(0,a.eW)("Already have account?")," ",(0,a.bF)(d.Wk,{to:"/login",class:"text-blue-700 hover:underline dark:text-blue-500"},{default:()=>[(0,a.eW)("Sign in here")]})])])])])])])])}}),q=(0,a.pM)({name:"DetailView",setup(){const e=v(),r=(0,d.lq)(),t=(0,d.rd)();return(0,a.sV)((()=>{const t=r.params.id;console.log(t),e.fetchProductById(Array.isArray(t)?t[0]:t)})),console.log(r.params.id),()=>(0,a.bF)("div",null,[e.isLoading?(0,a.bF)("div",null,[(0,a.eW)("Loading...")]):e.product&&(0,a.bF)("div",{class:"bg-[#fff] dark:bg-gray-800 text-gray-800 dark:text-white p-4 rounded-md"},[(0,a.bF)("div",{class:"mb-4"},[(0,a.bF)("h2",{class:"leading-normal font-bold text-2xl mb-4"},[(0,a.eW)("Detail Product:")]),(0,a.bF)("div",{class:"text-lg font-medium mb-4"},[(0,a.eW)("Product name:"),(0,a.bF)("span",{class:"font-normal"},[(0,a.eW)(" "),e.product.name])]),(0,a.bF)("div",{class:" font-medium mb-4"},[(0,a.eW)("Category:"),(0,a.bF)("span",{class:"font-normal"},[(0,a.eW)(" "),e.product.category])]),(0,a.bF)("div",{class:" font-medium mb-4"},[(0,a.eW)("Description:"),(0,a.bF)("span",{class:"font-normal"},[(0,a.eW)(" "),e.product.description])]),(0,a.bF)("div",{class:" font-medium mb-4"},[(0,a.eW)("Stock:"),(0,a.bF)("span",{class:"font-normal"},[(0,a.eW)(" "),e.product.stock])]),(0,a.bF)("div",{class:" font-medium mb-4"},[(0,a.eW)("Price:"),(0,a.bF)("span",{class:"font-normal"},[(0,a.eW)(" "),e.product.price])])]),(0,a.bF)("button",{class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800",onClick:e=>{e.stopPropagation(),t.push({path:`/update/${r.params.id}`})}},[(0,a.eW)("Edit")])])])}}),U=(0,a.pM)({name:"View Product",setup(){const e=v(),r=(0,d.lq)(),t=(0,d.rd)(),o=(0,a.Kh)({name:r.params.id?e.product?.name??"":"",description:r.params.id?e.product?.description??"":"",category:r.params.id?e.product?.category??"":"",stock:r.params.id?e.product?.stock??0:0,price:r.params.id?e.product?.price??0:0}),s=async()=>{const t=r.params.id;t&&await e.fetchProductById(t)};(0,a.sV)((()=>{s()})),(0,a.wB)((()=>e.product),(e=>{e&&Object.assign(o,{name:e.name||"",description:e.description||"",category:e.category||"",stock:e.stock||0,price:e.price||0})}),{immediate:!0});const l=(0,a.EW)((()=>({name:{required:k.mw,minLength:(0,k.Bp)(3)},description:{required:k.mw,minLength:(0,k.Bp)(3)},category:{required:k.mw,minLength:(0,k.Bp)(3)},stock:{required:k.mw,minValue:(0,k.Ww)(1)},price:{required:k.mw,minValue:(0,k.Ww)(1)}}))),n=(0,w.Ay)(l,o),i=async a=>{a.preventDefault();const s=await n.value.$validate();s&&(await e.handleUpdateProduct({id:r.params.id,...o}),n.value.$reset(),o.name="",o.description="",o.category="",o.stock=0,o.price=0,t.push("/products"))};return()=>(0,a.bF)("form",{class:"p-4 min-w-[480px]",onSubmit:i},[(0,a.bF)("div",{class:"mb-5"},[(0,a.bF)(F,{name:"Product Name",id:"name",placeholder:"Enter name",modelValue:o.name,"onUpdate:modelValue":e=>o.name=e,error:n.value.name.$error,errorMessage:n.value.name.$errors.map((e=>e.$message))},null),(0,a.bF)(F,{name:"Category",id:"category",placeholder:"Enter category",modelValue:o.category,"onUpdate:modelValue":e=>o.category=e,error:n.value.category.$error,errorMessage:n.value.category.$errors.map((e=>e.$message))},null),(0,a.bF)(F,{name:"Description",id:"description",placeholder:"Enter description",modelValue:o.description,"onUpdate:modelValue":e=>o.description=e,error:n.value.description.$error,errorMessage:n.value.description.$errors.map((e=>e.$message))},null),(0,a.bF)(F,{name:"Stock",id:"stock",type:"number",placeholder:"Enter stock",modelValue:o.stock,"onUpdate:modelValue":e=>o.stock=e,error:n.value.stock.$error,errorMessage:n.value.stock.$errors.map((e=>e.$message))},null),(0,a.bF)(F,{name:"Price",id:"price",type:"number",placeholder:"Enter price",modelValue:o.price,"onUpdate:modelValue":e=>o.price=e,error:n.value.price.$error,errorMessage:n.value.price.$errors.map((e=>e.$message))},null)]),(0,a.bF)("div",{class:"flex gap-x-4 items-center"},[(0,a.bF)("button",{type:"submit",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"},[(0,a.eW)("Update")])])])}}),L=[{path:"/",name:"Home",component:R,children:[{path:"dashboard",component:W},{path:"customers",component:T},{path:"products",component:P},{path:"product/:id",component:q},{path:"update/:id",component:U}]},{path:"/login",name:"Login",component:B},{path:"/register",name:"Register",component:_},{path:"/:pathMatch(.*)*",redirect:"/"}],D=L,K=(0,n.wE)((function(){const e=d.LA,r=(0,d.aE)({scrollBehavior:()=>({left:0,top:0}),routes:D,history:e("/")});return r.beforeEach(((e,r,t)=>{const a=null!==localStorage.getItem("accessToken");a||"/login"===e.path||"/register"===e.path?!a||"/login"!==e.path&&"/register"!==e.path?t():t("/"):t("/login")})),r}));async function O(e,r){const a="function"===typeof l.A?await(0,l.A)({}):l.A,{storeKey:n}=await Promise.resolve().then(t.bind(t,3245)),d="function"===typeof K?await K({store:a}):K;a.$router=d;const i=e(s);return i.use(o.A,r),{app:i,store:a,storeKey:n,router:d}}var N=t(2035),Z=t(4352),z=t(1391),H=t(8351),Y=t(7055),G=t(7984),J=t(2507),X=t(8593),ee=t(1143),re=t(3178),te=t(8219),ae=t(192),oe=t(9091),se=t(3656),le=t(4701),ne=t(5497),de=t(7316),ie=t(4483),ue=t(1656),ce=t(9204),pe=t(2659),ge=t(8767),be=t(7163),me=t(2287),he=t(1710),ye=t(24),fe=t(2979),ve=t(700),xe=t(8899),we=t(3472),ke=t(6565),Fe=t(885),Ae=t(1895),Pe=t(1177),$e=t(5149),We=t(9055),Ce=t(2013),Me=t(2293),Se=t(1687),Ve=t(2931),Qe=t(5194),Ee=t(8296),Ie=t(6723),je=t(8973),Re=t(9919),Te=t(3203),Be=t(3059),_e=t(8159),qe=t(2449),Ue=t(1683),Le=t(3727),De=t(9097),Ke=t(4533),Oe=t(1578),Ne=t(4199),Ze=t(4850),ze=t(5084),He=t(5895),Ye=t(2469),Ge=t(9233);const Je={config:{},lang:N.A,iconSet:Z.A,components:{QLayout:z.A,QHeader:H.A,QDrawer:Y.A,QPageContainer:G.A,QPage:J.A,QToolbar:X.A,QToolbarTitle:ee.A,QBtn:re.A,QIcon:te.A,QList:ae.A,QItem:oe.A,QItemSection:se.A,QItemLabel:le.A,QTooltip:ne.A,QInput:de.A,QCard:ie.A,QCardSection:ue.A,QCardActions:ce.A,QDialog:pe.A,QForm:ge.A,QFooter:be.A,QAvatar:me.A,QScrollArea:he.A,QImg:ye.A,QTabs:fe.A,QTab:ve.A,QRouteTab:xe.A,QTabPanels:we.A,QTabPanel:ke.A,QFab:Fe.A,QFabAction:Ae.A,QSeparator:Pe.A,QBar:$e.A,QSpace:We.A,QSelect:Ce.A,QRadio:Me.A,QTime:Se.A,QDate:Ve.A,QPopupProxy:Qe.A,QTable:Ee.A,QTh:Ie.A,QTr:je.A,QTd:Re.A,QCheckbox:Te.A,QToggle:Be.A,QSpinnerHourglass:_e.A,QPageSticky:qe.A,QTimeline:Ue.A,QTimelineEntry:Le.A,QBadge:De.A,QStepper:Ke.A,QStep:Oe.A,QStepperNavigation:Ne.A},directives:{Ripple:Ze.A},plugins:{Notify:ze.A,ClosePopup:He.A,Cookies:Ye.A,Loading:Ge.A}},Xe="/";async function er({app:e,router:r,store:t,storeKey:a},o){let s=!1;const l=e=>{try{return r.resolve(e).href}catch(t){}return Object(e)===e?null:e},n=e=>{if(s=!0,"string"===typeof e&&/^https?:\/\//.test(e))return void(window.location.href=e);const r=l(e);null!==r&&(window.location.href=r)},d=window.location.href.replace(window.location.origin,"");for(let u=0;!1===s&&u<o.length;u++)try{await o[u]({app:e,router:r,store:t,ssrContext:null,redirect:n,urlPath:d,publicPath:Xe})}catch(i){return i&&i.url?void n(i.url):void console.error("[Quasar] boot error:",i)}!0!==s&&(e.use(r),e.use(t,a),e.mount("#q-app"))}O(a.Ef,Je).then((e=>Promise.all([Promise.resolve().then(t.bind(t,9765)),Promise.resolve().then(t.bind(t,6947)),Promise.resolve().then(t.bind(t,5535))]).then((r=>{const t=r.map((e=>e.default)).filter((e=>"function"===typeof e));er(e,t)}))))},6947:(e,r,t)=>{t.r(r),t.d(r,{default:()=>g});var a=t(4560),o=t(998),s=t(4097),l=t(3500),n=t(603);const d="I8wO1z13VIm7mTfTU5cwgjbhipveo4Dn4l320oVx7zzgFdanauc4g2bYn5qRw8nF",i=new o.P({uri:"https://neutral-rooster-35.hasura.app/v1/graphql",headers:{"x-hasura-admin-secret":d}}),u=new l.R({link:i,cache:new n.D}),c=u,p="myadminsecretkey",g=(new o.P({uri:"http://localhost:8080/v1/graphql",headers:{"x-hasura-admin-secret":p}}),(0,a.zj)((({app:e})=>{(0,s._5)(c)})))},5535:(e,r,t)=>{t.r(r),t.d(r,{auth:()=>d,default:()=>i});var a=t(4560),o=t(6372),s=t(9120);const l={apiKey:"AIzaSyCsaQkf2U8MYdxKb7AE_7-N_XGo4iVbDiU",authDomain:"dashboard-management-7dac4.firebaseapp.com",projectId:"dashboard-management-7dac4",storageBucket:"dashboard-management-7dac4.appspot.com",messagingSenderId:"742943458605",appId:"1:742943458605:web:784483ff0319c76bf8bfa4",measurementId:"G-R6Y3L84018"},n=(0,o.Wp)(l),d=(0,s.xI)(n);(0,s.hg)(d,(async e=>{if(e){const r=await e.getIdToken();localStorage.setItem("accessToken",r)}else localStorage.removeItem("accessToken")}));const i=(0,a.zj)((({app:e})=>{e.config.globalProperties.$firebaseAuth=d}))},9765:(e,r,t)=>{t.r(r),t.d(r,{default:()=>s});var a=t(705),o=t(4560);const s=(0,o.zj)((({app:e})=>{const r=(0,a.Ey)();e.use(r)}))},3245:(e,r,t)=>{t.d(r,{A:()=>s});var a=t(4560),o=t(4299);const s=(0,a.M_)((e=>{const r=(0,o.y$)({modules:{module:{}},strict:!1});return r}))}},r={};function t(a){var o=r[a];if(void 0!==o)return o.exports;var s=r[a]={exports:{}};return e[a](s,s.exports,t),s.exports}t.m=e,(()=>{var e=[];t.O=(r,a,o,s)=>{if(!a){var l=1/0;for(u=0;u<e.length;u++){for(var[a,o,s]=e[u],n=!0,d=0;d<a.length;d++)(!1&s||l>=s)&&Object.keys(t.O).every((e=>t.O[e](a[d])))?a.splice(d--,1):(n=!1,s<l&&(l=s));if(n){e.splice(u--,1);var i=o();void 0!==i&&(r=i)}}return r}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[a,o,s]}})(),(()=>{t.d=(e,r)=>{for(var a in r)t.o(r,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:r[a]})}})(),(()=>{t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r)})(),(()=>{t.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{var e={524:0};t.O.j=r=>0===e[r];var r=(r,a)=>{var o,s,[l,n,d]=a,i=0;if(l.some((r=>0!==e[r]))){for(o in n)t.o(n,o)&&(t.m[o]=n[o]);if(d)var u=d(t)}for(r&&r(a);i<l.length;i++)s=l[i],t.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return t.O(u)},a=globalThis["webpackChunkquasar_vue3_tsx"]=globalThis["webpackChunkquasar_vue3_tsx"]||[];a.forEach(r.bind(null,0)),a.push=r.bind(null,a.push.bind(a))})();var a=t.O(void 0,[121],(()=>t(526)));a=t.O(a)})();