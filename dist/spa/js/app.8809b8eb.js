(()=>{"use strict";var e={7452:(e,r,a)=>{var t=a(9436),o=a(1284);const l=(0,t.pM)({name:"User Management",setup(){return()=>(0,t.bF)((0,t.g2)("q-layout"),{view:"hHh Lpr lff",class:"h-full"},{default:()=>[(0,t.bF)((0,t.g2)("q-page-container"),{class:"h-full"},{default:()=>[(0,t.bF)((0,t.g2)("router-view"),null,null)]})]})}});var s=a(3245),n=a(4560),d=a(455),i=a(6502),u=a(3389),c=a(4568);const p=c.Ay`
  query GetProducts(
    $limit: Int
    $offset: Int
    $searchQuery: String
    $orderBy: order_by
  ) {
    products(
      where: { name: { _ilike: $searchQuery } }
      limit: $limit
      offset: $offset
      order_by: { price: $orderBy }
    ) {
      id
      name
      description
      category
      stock
      price
    }
    products_aggregate(where: { name: { _ilike: $searchQuery } }) {
      aggregate {
        count
      }
    }
  }
`,g=c.Ay`
  query GetFilteredProducts(
    $limit: Int
    $offset: Int
    $category: String
    $orderBy: order_by
  ) {
    products(
      where: { category: { _eq: $category } }
      limit: $limit
      offset: $offset
      order_by: { price: $orderBy }
    ) {
      id
      name
      description
      category
      stock
      price
    }

    products_aggregate(where: { category: { _eq: $category } }) {
      aggregate {
        count
      }
    }
  }
`,b=(c.Ay`
  query GET_TOTAL_PRODUCTS($searchQuery: String!) {
    products_aggregate(where: { name: { _ilike: $searchQuery } }) {
      aggregate {
        count
      }
    }
  }
`,c.Ay`
  mutation InsertProducts(
    $category: String
    $description: String
    $name: String
    $stock: Float
    $price: Float
  ) {
    insert_products(
      objects: {
        category: $category
        description: $description
        name: $name
        stock: $stock
        price: $price
      }
    ) {
      affected_rows
      returning {
        price
        stock
        category
        description
        id
        name
      }
    }
  }
`),m=c.Ay`
  mutation DeleteProduct($id: String!) {
    delete_products(where: { id: { _eq: $id } }) {
      affected_rows
      returning {
        id
        name
      }
    }
  }
`,h=c.Ay`
  query GetProductById($id: String!) {
    products(where: { id: { _eq: $id } }) {
      id
      name
      description
      category
      stock
      price
    }
  }
`,y=c.Ay`
  mutation UpdateProduct(
    $id: String!
    $category: String
    $description: String
    $name: String
    $stock: Float
    $price: Float
  ) {
    update_products(
      where: { id: { _eq: $id } }
      _set: {
        category: $category
        description: $description
        name: $name
        stock: $stock
        price: $price
      }
    ) {
      affected_rows
      returning {
        id
        name
        description
        category
        stock
        price
      }
    }
  }
`,v=c.Ay`
  query GetAllProducts {
    products {
      id
      name
      description
      category
      stock
      price
    }
  }
`;var f=a(4097);u.t1.register(u.E8,u.PP,u.kc,u.hE);const x=(0,t.pM)({components:{Bar:i.yP},setup(){const{result:e,loading:r,error:a,refetch:o}=(0,f.IT)(v,{}),l=(0,t.KR)(!1),s=(0,t.KR)({labels:[],datasets:[{label:"Số lượng sản phẩm",data:[],backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40"]}]}),n=(0,t.KR)({responsive:!0,plugins:{legend:{labels:{color:l.value?"#FFFFFF":"#000000"}}},scales:{x:{ticks:{color:l.value?"#FFFFFF":"#000000"}},y:{ticks:{color:l.value?"#FFFFFF":"#000000"}}}}),d=()=>{if(!e.value||0===e.value.products.length)return;const r=e.value.products.map((e=>e.category)),a=[...new Set(r)],t=a.map((e=>r.filter((r=>r===e)).length));s.value={labels:a,datasets:[{label:"Số lượng sản phẩm",data:t,backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40"]}]}};return(0,t.sV)((()=>{e.value&&e.value.products.length>0&&d()})),(0,t.wB)((()=>e.value),(e=>{e&&e.products.length>0&&d()})),(0,t.wB)(l,(e=>{n.value.plugins.legend.labels.color=e?"#FFFFFF":"#000000",n.value.scales.x.ticks.color=e?"#FFFFFF":"#000000",n.value.scales.y.ticks.color=e?"#FFFFFF":"#000000"})),(0,t.sV)((()=>{l.value=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches})),()=>(0,t.bF)("div",{class:"w-full"},[(0,t.bF)(i.yP,{type:"bar",data:s.value,options:n.value},null)])}}),w=x,F=(0,t.pM)({name:"Dashboard - Parent Component",setup(){return()=>(0,t.bF)("div",{class:""},[(0,t.bF)("h1",{class:"font-bold text-3xl mb-5 dark:text-gray-100"},[(0,t.eW)("Product statistics")]),(0,t.bF)(w,null,null)])}});var k=a(705),$=a(9120),P=a(5535),A=a(9576);const S=(0,k.nY)("auth",(()=>{const e=(0,t.KR)(null),r=(0,t.KR)(!1),a=(0,t.KR)(null),o=(0,d.rd)(),l=async(e,t,l)=>{r.value=!0,a.value=null;try{const r=await(0,$.eJ)(P.auth,e,t),a={id:r.user.uid,email:r.user.email,username:l};await(0,$.r7)(r.user,{displayName:l});const s="I8wO1z13VIm7mTfTU5cwgjbhipveo4Dn4l320oVx7zzgFdanauc4g2bYn5qRw8nF",n="https://neutral-rooster-35.hasura.app/v1/graphql",d='mutation($userId: String!, $userEmail: String, $username: String) {\n        insert_users(objects: [{\n          id: $userId, username: $username, email: $userEmail, last_seen: "now()"\n        }], on_conflict: {constraint: users_pkey, update_columns: [last_seen, email]}\n        ) {\n          affected_rows\n        }\n      }',i={userId:a.id,userEmail:a.email,username:a.username};fetch(n,{method:"post",headers:{"content-type":"application/json","x-hasura-admin-secret":s},body:JSON.stringify({query:d,variables:i})}),await(0,$.CI)(P.auth),(0,A.oR)("User registered successfully",{theme:"auto",type:"success",position:"top-right",onClose:()=>{o.push({path:"/login"})}})}catch(s){a.value=s.message,(0,A.oR)(`${s.message}`,{theme:"auto",type:"error",position:"top-right"})}finally{r.value=!1}},s=async(t,l)=>{r.value=!0,a.value=null;try{const r=await(0,$.x9)(P.auth,t,l),a={id:r.user.uid,email:r.user.email,username:r.user.displayName,first_name:"",last_name:""};e.value=a;const s=await r.user.getIdToken();localStorage.setItem("accessToken",s),localStorage.setItem("user",JSON.stringify(a)),o.push({path:"/products"})}catch(s){a.value=s.message;"Firebase: Error (auth/user-not-found)."===s.message||s.message;const e="Firebase: Error (auth/invalid-credential)."===s.message?"Email or Password is incorrect":s.message;(0,A.oR)(`${e}`,{theme:"auto",type:"error",position:"top-right"})}finally{r.value=!1}},n=async()=>{r.value=!0,a.value=null;try{await(0,$.CI)(P.auth),e.value=null,localStorage.removeItem("accessToken"),localStorage.removeItem("user"),o.push({path:"/login"})}catch(t){a.value=t.message}finally{r.value=!1}};return{user:e,loading:r,error:a,register:l,login:s,logout:n}})),_=(0,t.pM)({name:"Sidebar",props:{isOpen:{type:Boolean,default:!1}},setup(e){const r=(0,d.lq)(),a=(S(),e=>r.path===e?"bg-gray-300 dark:bg-gray-600":"");return()=>(0,t.bF)("aside",{id:"default-sidebar",class:["fixed top-0 left-0 z-40 w-64 h-screen bg-gray-50 dark:bg-gray-800 dark:text-gray-400 transition-transform transform duration-300",e.isOpen?"translate-x-0":"-translate-x-full"],"aria-label":"Sidebar"},[(0,t.bF)("div",{class:"p-4"},[(0,t.bF)("div",{class:"w-full text-center text-3xl font-bold mb-5"},[(0,t.bF)(d.Wk,{to:"/"},{default:()=>[(0,t.eW)("Logo")]})])]),(0,t.bF)("div",{class:"h-full px-3 py-4 overflow-y-auto bg-gray-50 dark:bg-gray-800"},[(0,t.bF)("ul",{class:"space-y-2 font-medium"},[(0,t.bF)("li",null,[(0,t.bF)(d.Wk,{to:"/dashboard",class:["flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group",a("/dashboard")]},{default:()=>[(0,t.bF)("svg",{class:"w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 22 21"},[(0,t.bF)("path",{d:"M16.975 11H10V4.025a1 1 0 0 0-1.066-.998 8.5 8.5 0 1 0 9.039 9.039.999.999 0 0 0-1-1.066h.002Z"},null),(0,t.bF)("path",{d:"M12.5 0c-.157 0-.311.01-.565.027A1 1 0 0 0 11 1.02V10h8.975a1 1 0 0 0 1-.935c.013-.188.028-.374.028-.565A8.51 8.51 0 0 0 12.5 0Z"},null)]),(0,t.bF)("span",{class:"ms-3"},[(0,t.eW)("Dashboard")])]})]),(0,t.bF)("li",null,[(0,t.bF)(d.Wk,{to:"/profile",class:["flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group",a("/profile")]},{default:()=>[(0,t.bF)("svg",{class:"flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 18"},[(0,t.bF)("path",{d:"M14 2a3.963 3.963 0 0 0-1.4.267 6.439 6.439 0 0 1-1.331 6.638A4 4 0 1 0 14 2Zm1 9h-1.264A6.957 6.957 0 0 1 15 15v2a2.97 2.97 0 0 1-.184 1H19a1 1 0 0 0 1-1v-1a5.006 5.006 0 0 0-5-5ZM6.5 9a4.5 4.5 0 1 0 0-9 4.5 4.5 0 0 0 0 9ZM8 10H5a5.006 5.006 0 0 0-5 5v2a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-2a5.006 5.006 0 0 0-5-5Z"},null)]),(0,t.bF)("span",{class:"flex-1 ms-3 whitespace-nowrap"},[(0,t.eW)("Profile")])]})]),(0,t.bF)("li",null,[(0,t.bF)(d.Wk,{to:"/products",class:["flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group",a("/products")]},{default:()=>[(0,t.bF)("svg",{class:"flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 18 20"},[(0,t.bF)("path",{d:"M17 5.923A1 1 0 0 0 16 5h-3V4a4 4 0 1 0-8 0v1H2a1 1 0 0 0-1 .923L.086 17.846A2 2 0 0 0 2.08 20h13.84a2 2 0 0 0 1.994-2.153L17 5.923ZM7 9a1 1 0 0 1-2 0V7h2v2Zm0-5a2 2 0 1 1 4 0v1H7V4Zm6 5a1 1 0 1 1-2 0V7h2v2Z"},null)]),(0,t.bF)("span",{class:"flex-1 ms-3 whitespace-nowrap"},[(0,t.eW)("Products")])]})])])])])}});var C=a(5574),M=a(165);const W=c.Ay`
  query GetUsers {
    users {
      email
      id
      last_seen
      first_name
      last_name
      username
    }
  }
`,B=c.Ay`
  query GetUserById($id: String!) {
    users(where: { id: { _eq: $id } }) {
      email
      id
      last_seen
      first_name
      last_name
      username
    }
  }
`,V=(c.Ay`
  mutation InsertUsers($id: String!, $email: String!) {
    insert_users(objects: { id: $id, email: $email }) {
      affected_rows
      returning {
        id
        email
      }
    }
  }
`,c.Ay`
  mutation UPDATE_USER(
    $id: String!
    $username: String
    $first_name: String
    $last_name: String
    $email: String
  ) {
    update_users(
      where: { id: { _eq: $id } }
      _set: {
        username: $username
        email: $email
        first_name: $first_name
        last_name: $last_name
      }
    ) {
      affected_rows
      returning {
        email
        id
        last_seen
        first_name
        last_name
        username
      }
    }
  }
`),E=(0,k.nY)("user",(()=>{const e=(0,t.KR)([]),r=(0,t.KR)(null),a=(0,t.KR)(!1),{result:o,loading:l,error:s}=(0,f.IT)(W);(0,t.nT)((()=>{a.value=l.value,o.value&&(e.value=o.value.users),s.value&&(console.error("Error fetching users:",s.value),(0,A.oR)("Error fetching users",{theme:"auto",type:"error",position:"top-right"}))}));const n=e=>{const{result:o,loading:l,error:s}=(0,f.IT)(B,{id:e});(0,t.nT)((()=>{a.value=l.value,o.value&&o.value.users.length>0&&(r.value=o.value.users[0]),s.value&&(console.error("Error fetching product details:",s.value),(0,A.oR)("Error fetching product details",{theme:"auto",type:"error",position:"top-right"}))}))},d=async r=>{const{mutate:a}=(0,f.n_)(V);try{const t=await a({id:r.id,username:r.username,first_name:r.first_name,last_name:r.last_name,email:r.email});if(!t?.data?.update_users?.affected_rows)throw new Error("Failed to update product. No rows affected.");{const r=t.data.update_users.returning[0],a=e.value.findIndex((e=>e.id===r.id));-1!==a&&(e.value=[...e.value.slice(0,a),r,...e.value.slice(a+1)]),(0,A.oR)("Product updated successfully",{theme:"auto",type:"success",position:"top-right"})}}catch(s){(0,A.oR)("Error updating product",{theme:"auto",type:"error",position:"top-right"}),console.error("Error updating product:",s)}};return{users:e,user:r,isLoading:a,fetchUserById:n,handleUpdateUser:d}})),I=(0,t.pM)({name:"Main Component",props:{toggleSidebar:{type:Function,required:!0},isOpen:{type:Boolean,default:!1}},setup(){const e=S(),r=E(),a=(0,t.KR)(!1),o=(0,t.KR)(null),l=(0,t.KR)(null),s=(0,t.KR)(null),n=localStorage.getItem("user"),i=n?JSON.parse(n).id:null,u=(0,t.Kh)({first_name:r.user?.first_name||"",last_name:r.user?.last_name||"",username:r.user?.username||"",email:r.user?.email||""}),c=()=>{r.fetchUserById(i)};(0,t.sV)((()=>{c()})),(0,t.wB)((()=>r.user),(e=>{e&&Object.assign(u,{first_name:e.first_name||"",last_name:e.last_name||"",username:e.username||"",email:e.email||""})}));const p=(0,t.KR)(""),g=(0,d.lq)(),b=(0,t.KR)("dark"===localStorage.getItem("theme")),m=()=>{switch(g.path){case"/dashboard":p.value="Dashboard";break;case"/products":p.value="Products";break;case"/profile":p.value="Profile";break;case"/product/:id":p.value="Product detail";break;case"/update/:id":p.value="Update product";break;default:p.value=""}};(0,t.wB)(g,m,{immediate:!0});const h=()=>{a.value=!0},y=()=>{a.value=!1},{floatingStyles:v,placement:f,x,y:w,middlewareData:F,strategy:k}=(0,C.we)(o,l,{placement:"bottom-end",middleware:[(0,M.cY)(),(0,M.UU)(),(0,M.BN)(),(0,C.UE)({element:s,padding:20})],transform:!1}),$={transform:f.value.includes("bottom")?"rotate(45deg)":f.value.includes("top")?"rotate(-135deg)":f.value.includes("left")?"rotate(135deg)":"rotate(-45deg)"},P=()=>{b.value=!b.value;const e=b.value?"dark":"light";document.documentElement.classList.toggle("dark",b.value),localStorage.setItem("theme",e)};return(0,t.sV)((()=>{b.value&&document.documentElement.classList.add("dark")})),r=>(0,t.bF)("main",{class:["flex-1 w-full ml-auto dark:bg-gray-500 h-[100vh] transition-transform transform",{"sm:max-w-[calc(100%-256px)] ml-64":r.isOpen}]},[(0,t.bF)("div",{class:"header-main flex items-center justify-between w-full bg-[#fff] dark:bg-gray-800 dark:text-white p-3 shadow-sm"},[(0,t.bF)("div",{class:"flex items-center gap-x-4"},[(0,t.bF)("button",{onClick:r.toggleSidebar,class:"text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none rounded-lg text-sm p-2.5"},[(0,t.bF)("svg",{class:"w-8 h-8 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[(0,t.bF)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-width":"2",d:"M5 7h14M5 12h14M5 17h10"},null)])]),(0,t.bF)("h4",{class:"font-medium text-lg"},[p.value])]),(0,t.bF)("div",{class:"flex items-center justify-end gap-x-2"},[(0,t.bF)("div",{onMouseenter:h,onMouseleave:y,class:"relative"},[(0,t.bF)("div",{ref:o,class:"flex items-center gap-x-2 hover:cursor-pointer"},[(0,t.bF)("div",{class:"font-medium order-1"},[u?.username?u.username:""]),(0,t.bF)("svg",{class:"w-10 h-10 text-gray-800 dark:text-white order-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[(0,t.bF)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1",d:"M12 21a9 9 0 1 0 0-18 9 9 0 0 0 0 18Zm0 0a8.949 8.949 0 0 0 4.951-1.488A3.987 3.987 0 0 0 13 16h-2a3.987 3.987 0 0 0-3.951 3.512A8.948 8.948 0 0 0 12 21Zm3-11a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"},null)])]),!0===a.value&&(0,t.bF)("div",{ref:l,style:{...v.value,width:"max-content",left:`${x.value}px`,top:`${w.value}px`},onMouseenter:h,onMouseleave:y,class:"z-50 bg-[#fff] border min-w-44  divide-y divide-gray-100 rounded-lg shadow-md  dark:bg-gray-700 dark:divide-gray-600"},[(0,t.bF)("div",{ref:s,style:{...$,position:"absolute",left:null!=F.value.arrow?.x?`${F.value.arrow.x}px`:"",top:null!=F.value.arrow?.y?`${F.value.arrow.y}px`:"abc",width:"12px",height:"12px"},class:"bg-[#fff] dark:bg-gray-700 -mt-[7px] border-l border-t "},null),(0,t.bF)("div",{class:"px-4 py-3 text-sm text-gray-900 dark:text-white border-none"},[(0,t.bF)("div",null,[u?.username?u.username:""]),(0,t.bF)("div",{class:"font-medium truncate"},[u?.email?u.email:""])]),(0,t.bF)("ul",{class:"py-2 text-sm text-gray-700 dark:text-gray-200","aria-labelledby":"avatarButton"},[(0,t.bF)("li",null,[(0,t.bF)(d.Wk,{to:"/dashboard",class:"block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},{default:()=>[(0,t.eW)("Dashboard")]})]),(0,t.bF)("li",null,[(0,t.bF)(d.Wk,{to:"/profile",class:"block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},{default:()=>[(0,t.eW)("Settings")]})])]),(0,t.bF)("div",{class:"py-1"},[(0,t.bF)("button",{onClick:e.logout,class:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white"},[(0,t.eW)("Sign out")])])])]),(0,t.bF)("button",{id:"theme-toggle",type:"button",onClick:P,class:"text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5"},[b.value?(0,t.bF)("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[(0,t.bF)("path",{d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"},null)]):(0,t.bF)("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[(0,t.bF)("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"},null)])])])]),(0,t.bF)("div",{class:"p-4"},[(0,t.bF)((0,t.g2)("router-view"),null,null)])])}}),Q=(0,t.pM)({name:"Layout",setup(){const e=(0,t.KR)(!0),r=()=>{e.value=!e.value};return()=>(0,t.bF)("div",{class:"flex h-full w-full"},[(0,t.bF)(_,{isOpen:e.value},null),(0,t.bF)(I,{isOpen:e.value,toggleSidebar:r},null)])}}),R=(0,t.pM)({setup(){return()=>(0,t.bF)(Q,null,null)}}),j=(0,t.pM)({name:"InputComponent",props:{id:String,type:{type:String,default:"text"},as:{type:String,default:"input"},placeholder:String,modelValue:[String,Number],error:Boolean,errorMessage:Array,name:String},emits:["update:modelValue"],setup(e,{emit:r,slots:a}){const o=e=>{const a=e.target;r("update:modelValue",a.value)};return()=>(0,t.bF)("div",{class:""},[(0,t.bF)("label",{for:e.id,class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},[e.name,(0,t.eW)(" "),(0,t.bF)("span",{class:"text-red-500"},[(0,t.eW)("*")]),(0,t.eW)(":")," "]),"select"===e.as?(0,t.bF)("select",{id:e.id,value:e.modelValue,onInput:o,class:["bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",e.error&&"bg-red-50 border border-red-500 text-red-900 placeholder-red-700 dark:bg-red-200 dark:text-red-500 dark:placeholder:text-[#fff]"]},[(0,t.bF)("option",{value:"",disabled:!0},[e.placeholder]),a.default&&a.default()]):(0,t.bF)("input",{id:e.id,type:e.type,placeholder:e.placeholder,value:e.modelValue,onInput:o,class:["bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",e.error&&"bg-red-50 border border-red-500 text-red-900 placeholder-red-700 dark:bg-red-200 dark:text-red-500 dark:placeholder:text-[#fff]"]},null),(0,t.bF)("div",{class:"flex h-6 gap-x-2"},[e.error&&e.errorMessage&&(0,t.bF)("div",{class:"flex gap-x-2 text-red-500 dark:text-red-400 text-[13px]"},[e.errorMessage.map((e=>(0,t.bF)("span",{key:e},[e])))])])])}});var q=a(5697),T=a(6397);const U=(0,t.pM)({name:"login",setup(){const e=S(),r=(0,t.Kh)({email:"",password:""}),a=(0,t.EW)((()=>({email:{required:T.mw,email:T.Rp},password:{required:T.mw,minLength:(0,T.Bp)(6)}}))),o=(0,q.Ay)(a,r),l=async a=>{a.preventDefault();const t=await o.value.$validate();t&&(e.login(r.email,r.password),o.value.$reset(),r.email="",r.password="")};return()=>(0,t.bF)("div",{class:"relative"},[(0,t.bF)("div",{class:" fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0  max-h-full bg-[#333] bg-opacity-70"},[(0,t.bF)("div",{class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 p-4 w-full max-w-md max-h-full"},[(0,t.bF)("div",{class:"relative bg-[#fff] rounded-lg shadow dark:bg-gray-700"},[(0,t.bF)("div",{class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600"},[(0,t.bF)("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white"},[(0,t.eW)("Sign in to our platform")]),(0,t.bF)("button",{type:"button",class:"end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-hide":"authentication-modal"},[(0,t.bF)("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[(0,t.bF)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"},null)]),(0,t.bF)("span",{class:"sr-only"},[(0,t.eW)("Close modal")])])]),(0,t.bF)("div",{class:"p-4 md:p-5"},[(0,t.bF)("form",{class:"space-y-4",action:"submit",onSubmit:l},[(0,t.bF)("div",null,[(0,t.bF)(j,{type:"email",name:"Email",id:"email",placeholder:"alex@gmail.com",modelValue:r.email,"onUpdate:modelValue":e=>r.email=e,error:o.value.email.$error,errorMessage:o.value.email.$errors.map((e=>(0,t.bF)("span",{class:"text-red-500"},[e.$message])))},null),(0,t.bF)(j,{type:"password",name:"Password",id:"password",placeholder:"••••••••",modelValue:r.password,"onUpdate:modelValue":e=>r.password=e,error:o.value.password.$error,errorMessage:o.value.password.$errors.map((e=>(0,t.bF)("span",{class:"text-red-500"},[e.$message])))},null)]),(0,t.bF)("div",{class:"flex justify-between"},[(0,t.bF)("div",{class:"flex items-start"},[(0,t.bF)("div",{class:"flex items-center h-5"},[(0,t.bF)("input",{id:"remember",type:"checkbox",value:"",class:"w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-blue-300 dark:bg-gray-600 dark:border-gray-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800",required:!0},null)]),(0,t.bF)("label",{for:"remember",class:"ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"},[(0,t.eW)("Remember me")])]),(0,t.bF)("a",{href:"#",class:"text-sm text-blue-700 hover:underline dark:text-blue-500"},[(0,t.eW)("Lost Password?")])]),(0,t.bF)("button",{type:"submit",class:"w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},[(0,t.eW)("Login to your account")]),(0,t.bF)("div",{class:"text-sm font-medium text-gray-500 dark:text-gray-300"},[(0,t.eW)("Not registered?")," ",(0,t.bF)(d.Wk,{to:"/register",class:"text-blue-700 hover:underline dark:text-blue-500"},{default:()=>[(0,t.eW)("Create account")]})])])])])])])])}}),K=(0,t.pM)({name:"register",setup(){const e=S(),r=(0,t.Kh)({username:"",email:"",password:"",confirmPassword:""}),a=(0,t.EW)((()=>({username:{required:T.mw,minLength:(0,T.Bp)(6)},email:{required:T.mw,email:T.Rp},password:{required:T.mw,minLength:(0,T.Bp)(6)},confirmPassword:{required:T.mw,minLength:(0,T.Bp)(6),sameAs:(0,T.f4)(r.password)}}))),o=(0,q.Ay)(a,r),l=async a=>{a.preventDefault();const t=await o.value.$validate();t&&(e.register(r.email,r.password,r.username),o.value.$reset(),r.email="",r.username="",r.password="",r.confirmPassword="")};return()=>(0,t.bF)("div",{class:"relative"},[(0,t.bF)("div",{class:" fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0  max-h-full bg-[#333] bg-opacity-70"},[(0,t.bF)("div",{class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 p-4 w-full max-w-md max-h-full"},[(0,t.bF)("div",{class:"relative bg-[#fff] rounded-lg shadow dark:bg-gray-700"},[(0,t.bF)("div",{class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600"},[(0,t.bF)("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white"},[(0,t.eW)("Sign up your account")]),(0,t.bF)("button",{type:"button",class:"end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-hide":"authentication-modal"},[(0,t.bF)("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[(0,t.bF)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"},null)]),(0,t.bF)("span",{class:"sr-only"},[(0,t.eW)("Close modal")])])]),(0,t.bF)("div",{class:"p-4 md:p-5"},[(0,t.bF)("form",{class:"space-y-4",action:"submit",onSubmit:l},[(0,t.bF)("div",{class:""},[(0,t.bF)(j,{type:"text",name:"User name",id:"username",placeholder:"johndoe",modelValue:r.username,"onUpdate:modelValue":e=>r.username=e,error:o.value.username.$error,errorMessage:o.value.username.$errors.map((e=>(0,t.bF)("span",{class:"text-red-500"},[e.$message])))},null),(0,t.bF)(j,{type:"username",name:"Email",id:"email",placeholder:"alex@gmail.com",modelValue:r.email,"onUpdate:modelValue":e=>r.email=e,error:o.value.email.$error,errorMessage:o.value.email.$errors.map((e=>(0,t.bF)("span",{class:"text-red-500"},[e.$message])))},null),(0,t.bF)(j,{type:"password",name:"Password",id:"password",placeholder:"••••••••",modelValue:r.password,"onUpdate:modelValue":e=>r.password=e,error:o.value.password.$error,errorMessage:o.value.password.$errors.map((e=>(0,t.bF)("span",{class:"text-red-500"},[e.$message])))},null),(0,t.bF)(j,{type:"password",name:"Confirm Password",id:"confirm_password",placeholder:"••••••••",modelValue:r.confirmPassword,"onUpdate:modelValue":e=>r.confirmPassword=e,error:o.value.confirmPassword.$error,errorMessage:o.value.confirmPassword.$errors.map((e=>(0,t.bF)("span",{class:"text-red-500"},[e.$message])))},null)]),(0,t.bF)("button",{type:"submit",class:"w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},[(0,t.eW)("Register your account")]),(0,t.bF)("div",{class:"text-sm font-medium text-gray-500 dark:text-gray-300"},[(0,t.eW)("Already have account?")," ",(0,t.bF)(d.Wk,{to:"/login",class:"text-blue-700 hover:underline dark:text-blue-500"},{default:()=>[(0,t.eW)("Sign in here")]})])])])])])])])}}),D=(0,k.nY)("products",(()=>{const e=(0,t.KR)([]),r=(0,t.KR)(),a=(0,t.KR)(!1),o=(0,t.KR)(""),l=(0,t.KR)(!1),s=(0,t.KR)(!1),n=(0,t.KR)(1),i=(0,t.KR)(10),u=(0,t.KR)(0),c=(0,d.lq)(),v=(0,d.rd)(),x=(0,t.KR)(""),w=(0,t.KR)([]),F=(0,t.KR)("asc"),{result:k,error:$,refetch:P}=(0,f.IT)(g,{limit:i.value,offset:(n.value-1)*i.value,category:x.value,orderBy:F.value}),{result:S,loading:_,error:C,refetch:M}=(0,f.IT)(p,{limit:i.value,offset:(n.value-1)*i.value,searchQuery:`%${o.value}%`,orderBy:F.value});(0,t.nT)((async()=>{a.value=_.value,S.value&&(e.value=S.value.products,u.value=S.value.products_aggregate.aggregate.count),k.value&&k.value.products.length>0&&(e.value=k.value.products,u.value=k.value.products_aggregate.aggregate.count),(C.value||$.value)&&console.error("Error fetching products:",C.value)})),w.value=e.value.map((e=>e.category));const W=async e=>{const r=e.target;o.value=r.value,"Enter"===e.key&&(n.value=1,await B())},B=async()=>{const r=await M({limit:i.value,offset:0,searchQuery:`%${o.value}%`,orderBy:F.value});r?.data&&r.data.products_aggregate&&(u.value=r.data.products_aggregate.aggregate.count,e.value=r.data.products),x.value&&(e.value=e.value.filter((e=>e.category===x.value)),u.value=e.value.length),v.replace({query:{...c.query,search:o.value,category:x.value}})};(0,t.wB)([o],(async()=>{n.value=1,await B()}));const V=c.query.search;(0,t.sV)((()=>{V&&(o.value=V,B())}));const E=async r=>{x.value=r,n.value=1;const a=await P({limit:i.value,offset:0,category:x.value,orderBy:F.value});a?.data?.products&&(e.value=a.data.products,u.value=a.data.products_aggregate.aggregate.count),""===x.value&&await M(),v.replace({query:{...c.query,search:o.value,category:x.value}})},I=e=>{if(e<1||e>Q.value)return;n.value=e;const r=(n.value-1)*i.value;x.value?P({limit:i.value,offset:r,category:x.value,orderBy:F.value}):M({limit:i.value,offset:r,searchQuery:`%${o.value}%`,orderBy:F.value})};(0,t.sV)((()=>{c.query.search&&(o.value=c.query.search),c.query.category?(x.value=c.query.category,P({limit:i.value,offset:0,category:x.value,orderBy:F.value})):B()}));const Q=(0,t.EW)((()=>Math.ceil(u.value/i.value))),R=(0,t.EW)((()=>e.value.find((e=>e.id===c.params.id)))),j=e=>{const{result:o,loading:l,error:s}=(0,f.IT)(h,{id:e});(0,t.nT)((()=>{a.value=l.value,o.value&&o.value.products.length>0&&(r.value=o.value.products[0]),s.value&&(console.error("Error fetching product details:",s.value),(0,A.oR)("Error fetching product details",{theme:"auto",type:"error",position:"top-right"}))}))},q=async()=>{F.value="asc"===F.value?"desc":"asc",await M({limit:i.value,offset:(n.value-1)*i.value,searchQuery:`%${o.value}%`,orderBy:F.value})},T=async r=>{const{mutate:a}=(0,f.n_)(b);try{const t=await a({name:r.name,category:r.category,description:r.description,stock:r.stock,price:r.price});if(!t?.data?.insert_products?.returning?.length)throw new Error("Failed to add product. No product returned.");{const r=t.data.insert_products.returning[0];e.value=[...e.value,r],await M(),u.value+=1,e.value.length>i.value&&I(n.value+1),l.value=!1,(0,A.oR)("Product added successfully",{theme:"auto",type:"success",position:"top-right"})}if(!t||!t.data||!t.data.insert_products)throw new Error("Mutation response structure is unexpected.")}catch(C){(0,A.oR)("Error adding product",{theme:"auto",type:"error",position:"top-right"}),console.error("Error adding product:",C)}},U=async r=>{const{mutate:a}=(0,f.n_)(m);try{const t=await a({id:r});if(!t?.data?.delete_products?.affected_rows)throw new Error("Failed to delete product. No rows affected.");e.value=e.value.filter((e=>e.id!==r)),await M(),u.value-=1,0===e.value.length&&n.value>1&&I(n.value-1),(0,A.oR)("Product deleted successfully",{theme:"auto",type:"success",position:"top-right"})}catch(C){(0,A.oR)("Error deleting product",{theme:"auto",type:"error",position:"top-right"}),console.error("Error deleting product:",C)}},K=async r=>{const{mutate:a}=(0,f.n_)(y);try{const t=await a({id:r.id,name:r.name,category:r.category,description:r.description,stock:r.stock,price:r.price});if(!t?.data?.update_products?.affected_rows)throw new Error("Failed to update product. No rows affected.");{const r=t.data.update_products.returning[0],a=e.value.findIndex((e=>e.id===r.id));-1!==a&&(e.value=[...e.value.slice(0,a),r,...e.value.slice(a+1)]),(0,A.oR)("Product updated successfully",{theme:"auto",type:"success",position:"top-right",onClose:()=>v.push({path:"/products"})})}}catch(C){(0,A.oR)("Error updating product",{theme:"auto",type:"error",position:"top-right"}),console.error("Error updating product:",C)}};return{result:S,product:r,products:e,isLoading:a,isShowCreateModal:l,detailProduct:R,isPopoverConfirmOpen:s,currentPage:n,totalItems:u,itemsPerPage:i,searchQuery:V,selectedCategory:x,dataFiltered:k,categories:w,sortOrder:F,handleChangeInput:W,handleAddProduct:T,handleDeleteProduct:U,fetchProductById:j,handleUpdateProduct:K,changePage:I,handleCategorySelect:E,refetch:M,refetchDataFiltered:P,sortProductsByPrice:q}})),O=(0,t.pM)({name:"DetailView",setup(){const e=D(),r=(0,d.lq)(),a=(0,d.rd)();return(0,t.sV)((()=>{const a=r.params.id;e.fetchProductById(Array.isArray(a)?a[0]:a)})),()=>(0,t.bF)("div",null,[e.isLoading?(0,t.bF)("div",{role:"status",class:"max-w-sm animate-pulse"},[(0,t.bF)("div",{class:"h-5 bg-gray-200 rounded-full dark:bg-gray-700 w-48 mb-4"},null),(0,t.bF)("div",{class:"h-4 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[360px] mb-2.5"},null),(0,t.bF)("div",{class:"h-4 bg-gray-200 rounded-full dark:bg-gray-700 mb-2.5"},null),(0,t.bF)("div",{class:"h-4 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[330px] mb-2.5"},null),(0,t.bF)("div",{class:"h-4 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[300px] mb-2.5"},null),(0,t.bF)("div",{class:"h-4 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[360px]"},null),(0,t.bF)("span",{class:"sr-only"},[(0,t.eW)("Loading...")])]):e.product&&(0,t.bF)("div",{class:"bg-[#fff] dark:bg-gray-800 text-gray-800 dark:text-white p-4 rounded-md"},[(0,t.bF)("div",{class:"mb-4"},[(0,t.bF)("h2",{class:"leading-normal font-bold text-2xl mb-4"},[(0,t.eW)("Detail Product:")]),(0,t.bF)("div",{class:"text-lg font-medium mb-4"},[(0,t.eW)("Product name:"),(0,t.bF)("span",{class:"font-normal"},[(0,t.eW)(" "),e.product.name])]),(0,t.bF)("div",{class:" font-medium mb-4"},[(0,t.eW)("Category:"),(0,t.bF)("span",{class:"font-normal"},[(0,t.eW)(" "),e.product.category])]),(0,t.bF)("div",{class:" font-medium mb-4"},[(0,t.eW)("Description:"),(0,t.bF)("span",{class:"font-normal"},[(0,t.eW)(" "),e.product.description])]),(0,t.bF)("div",{class:" font-medium mb-4"},[(0,t.eW)("Stock:"),(0,t.bF)("span",{class:"font-normal"},[(0,t.eW)(" "),e.product.stock])]),(0,t.bF)("div",{class:" font-medium mb-4"},[(0,t.eW)("Price:"),(0,t.bF)("span",{class:"font-normal"},[(0,t.eW)(" $"),e.product.price])])]),(0,t.bF)("button",{class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800",onClick:e=>{e.stopPropagation(),a.push({path:`/update/${r.params.id}`})}},[(0,t.eW)("Edit")])])])}}),L=(0,t.pM)({name:"View Product",setup(){const e=D(),r=(0,d.lq)(),a=((0,d.rd)(),(0,t.KR)(["Electronics","Computers","Tablets","Wearables","Cameras","Gaming","Drones","Smart Home","Home Appliances","Storage","Accessories","Beauty"])),o=(0,t.Kh)({name:r.params.id?e.product?.name??"":"",description:r.params.id?e.product?.description??"":"",category:r.params.id?e.product?.category??"":"",stock:r.params.id?e.product?.stock??0:0,price:r.params.id?e.product?.price??0:0}),l=async()=>{const a=r.params.id;a&&await e.fetchProductById(a)};(0,t.sV)((()=>{l()})),(0,t.wB)((()=>e.product),(e=>{e&&Object.assign(o,{name:e.name||"",description:e.description||"",category:e.category||"",stock:e.stock||0,price:e.price||0})}),{immediate:!0});const s=(0,t.EW)((()=>({name:{required:T.mw,minLength:(0,T.Bp)(3)},description:{required:T.mw,minLength:(0,T.Bp)(3)},category:{required:T.mw,minLength:(0,T.Bp)(3)},stock:{required:T.mw,minValue:(0,T.Ww)(1)},price:{required:T.mw,minValue:(0,T.Ww)(1)}}))),n=(0,q.Ay)(s,o),i=async a=>{a.preventDefault();const t=await n.value.$validate();t&&(await e.handleUpdateProduct({id:r.params.id,...o}),n.value.$reset(),o.name="",o.description="",o.category="",o.stock=0,o.price=0)};return()=>(0,t.bF)("form",{class:"p-4 min-w-[480px]",onSubmit:i},[(0,t.bF)("div",{class:"mb-5"},[(0,t.bF)(j,{name:"Product Name",id:"name",placeholder:"Enter name",modelValue:o.name,"onUpdate:modelValue":e=>o.name=e,error:n.value.name.$error,errorMessage:n.value.name.$errors.map((e=>e.$message))},null),(0,t.bF)(j,{name:"Category",id:"category",as:"select",placeholder:"Select category",modelValue:o.category,"onUpdate:modelValue":e=>o.category=e,error:n.value.category.$error,errorMessage:n.value.category.$errors.map((e=>e.$message))},{default:()=>[(0,t.bF)("option",{value:"",disabled:!0},null),a.value.map((e=>(0,t.bF)("option",{value:e,key:e},[e])))]}),(0,t.bF)(j,{name:"Description",id:"description",placeholder:"Enter description",modelValue:o.description,"onUpdate:modelValue":e=>o.description=e,error:n.value.description.$error,errorMessage:n.value.description.$errors.map((e=>e.$message))},null),(0,t.bF)(j,{name:"Stock",id:"stock",type:"number",placeholder:"Enter stock",modelValue:o.stock,"onUpdate:modelValue":e=>o.stock=e,error:n.value.stock.$error,errorMessage:n.value.stock.$errors.map((e=>e.$message))},null),(0,t.bF)(j,{name:"Price",id:"price",type:"number",placeholder:"Enter price",modelValue:o.price,"onUpdate:modelValue":e=>o.price=e,error:n.value.price.$error,errorMessage:n.value.price.$errors.map((e=>e.$message))},null)]),(0,t.bF)("div",{class:"flex gap-x-4 items-center"},[(0,t.bF)("button",{type:"submit",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"},[(0,t.eW)("Update")])])])}}),z=(0,t.pM)({name:"TableSkeleton",setup(){return()=>(0,t.bF)("tbody",{class:"w-full animate-pulse"},[(0,t.bF)("tr",{class:"odd:bg-[#fff] odd:dark:bg-gray-800 even:bg-gray-200 even:dark:bg-gray-700 border-b dark:border-gray-700"},[(0,t.bF)("th",{scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null)]),(0,t.bF)("tr",{class:"odd:bg-[#fff] odd:dark:bg-gray-800 even:bg-gray-200 even:dark:bg-gray-700 border-b dark:border-gray-700"},[(0,t.bF)("th",{scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null)]),(0,t.bF)("tr",{class:"odd:bg-[#fff] odd:dark:bg-gray-800 even:bg-gray-200 even:dark:bg-gray-700 border-b dark:border-gray-700"},[(0,t.bF)("th",{scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null)]),(0,t.bF)("tr",{class:"odd:bg-[#fff] odd:dark:bg-gray-800 even:bg-gray-200 even:dark:bg-gray-700 border-b dark:border-gray-700"},[(0,t.bF)("th",{scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null)]),(0,t.bF)("tr",{class:"odd:bg-[#fff] odd:dark:bg-gray-800 even:bg-gray-200 even:dark:bg-gray-700 border-b dark:border-gray-700"},[(0,t.bF)("th",{scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null)]),(0,t.bF)("tr",{class:"odd:bg-[#fff] odd:dark:bg-gray-800 even:bg-gray-200 even:dark:bg-gray-700 border-b dark:border-gray-700"},[(0,t.bF)("th",{scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null)]),(0,t.bF)("tr",{class:"odd:bg-[#fff] odd:dark:bg-gray-800 even:bg-gray-200 even:dark:bg-gray-700 border-b dark:border-gray-700"},[(0,t.bF)("th",{scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null)]),(0,t.bF)("tr",{class:"odd:bg-[#fff] odd:dark:bg-gray-800 even:bg-gray-200 even:dark:bg-gray-700 border-b dark:border-gray-700"},[(0,t.bF)("th",{scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null)]),(0,t.bF)("tr",{class:"odd:bg-[#fff] odd:dark:bg-gray-800 even:bg-gray-200 even:dark:bg-gray-700 border-b dark:border-gray-700"},[(0,t.bF)("th",{scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null)]),(0,t.bF)("tr",{class:"odd:bg-[#fff] odd:dark:bg-gray-800 even:bg-gray-200 even:dark:bg-gray-700 border-b dark:border-gray-700"},[(0,t.bF)("th",{scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null),(0,t.bF)("td",{class:"px-6 py-4"},null)])])}}),N=(0,t.pM)({name:"Create Products",setup(){const e=D(),r=(0,t.KR)(["Electronics","Computers","Tablets","Wearables","Cameras","Gaming","Drones","Smart Home","Home Appliances","Storage","Accessories","Beauty"]),a=(0,t.Kh)({name:"",description:"",category:"",stock:0,price:0}),o=(0,t.EW)((()=>({name:{required:T.mw,minLength:(0,T.Bp)(3)},description:{required:T.mw,minLength:(0,T.Bp)(3)},category:{required:T.mw,minLength:(0,T.Bp)(3)},stock:{required:T.mw,minValue:(0,T.Ww)(1)},price:{required:T.mw,minValue:(0,T.Ww)(1)}}))),l=(0,q.Ay)(o,a),s=async r=>{r.preventDefault();const t=await l.value.$validate();t&&(e.handleAddProduct({...a}),l.value.$reset(),a.name="",a.description="",a.category="",a.stock=0,a.price=0)};return()=>(0,t.bF)("form",{class:"p-4 min-w-[480px]",onSubmit:s},[(0,t.bF)("div",{class:"mb-5"},[(0,t.bF)(j,{name:"Product Name",id:"name",placeholder:"Enter name",modelValue:a.name,"onUpdate:modelValue":e=>a.name=e,error:l.value.name.$error,errorMessage:l.value.name.$errors.map((e=>e.$message))},null),(0,t.bF)(j,{name:"Category",id:"category",as:"select",placeholder:"Select category",modelValue:a.category,"onUpdate:modelValue":e=>a.category=e,error:l.value.category.$error,errorMessage:l.value.category.$errors.map((e=>e.$message))},{default:()=>[(0,t.bF)("option",{value:"",disabled:!0},null),r.value.map((e=>(0,t.bF)("option",{value:e,key:e},[e])))]}),(0,t.bF)(j,{name:"Description",id:"description",placeholder:"Enter description",modelValue:a.description,"onUpdate:modelValue":e=>a.description=e,error:l.value.description.$error,errorMessage:l.value.description.$errors.map((e=>e.$message))},null),(0,t.bF)(j,{name:"Stock",id:"stock",type:"number",placeholder:"Enter stock",modelValue:a.stock,"onUpdate:modelValue":e=>a.stock=e,error:l.value.stock.$error,errorMessage:l.value.stock.$errors.map((e=>e.$message))},null),(0,t.bF)(j,{name:"Price",id:"price",type:"number",placeholder:"Enter price",modelValue:a.price,"onUpdate:modelValue":e=>a.price=e,error:l.value.price.$error,errorMessage:l.value.price.$errors.map((e=>e.$message))},null)]),(0,t.bF)("div",{class:"flex gap-x-4 items-center"},[(0,t.bF)("button",{type:"submit",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"},[(0,t.eW)("Create")])])])}}),Z=(0,t.pM)({name:"FilterProduct",emits:["categorySelect"],setup(e,{emit:r}){const a=(0,t.KR)(["All Products","Electronics","Computers","Tablets","Wearables","Cameras","Gaming","Drones","Smart Home","Home Appliances","Storage","Accessories","Beauty"]),o=(0,t.KR)(null),l=(0,t.KR)(null),s=(0,t.KR)(!1),n=(0,t.KR)("All Products"),d=D(),{floatingStyles:i,placement:u,x:c,y:p,middlewareData:g,strategy:b}=(0,C.we)(o,l,{placement:"bottom-end",middleware:[(0,M.cY)(10),(0,M.UU)(),(0,M.BN)()],transform:!1}),m=()=>{s.value=!s.value},h=e=>{!l.value||l.value.contains(e.target)||!o.value||o.value&&o.value.contains(e.target)||(s.value=!1)},y=e=>{e&&(n.value=e||"",r("categorySelect",e),s.value=!1)};return(0,t.sV)((()=>{document.addEventListener("mousedown",h)})),(0,t.xo)((()=>{document.removeEventListener("mousedown",h)})),()=>(0,t.bF)("div",null,[(0,t.bo)((0,t.bF)("button",{ref:o,class:"inline-flex items-center text-gray-500 bg-[#fff] border border-gray-300 focus:outline-none hover:bg-gray-100  font-medium rounded-lg text-sm px-3 py-1.5 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700",type:"button",onClick:m,"onUpdate:modelValue":e=>n.value=e},[(0,t.bF)("span",{class:"sr-only"},null),d.selectedCategory||"All Products",s.value?(0,t.bF)("svg",{class:"w-2.5 h-2.5 ms-2.5  transform rotate-180 transition-transform duration-300","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6"},[(0,t.bF)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 4 4 4-4"},null)]):(0,t.bF)("svg",{class:"w-2.5 h-2.5 ms-2.5 transition-transform duration-300","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6"},[(0,t.bF)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 4 4 4-4"},null)])]),[[t.Jo,n.value]]),s.value&&(0,t.bF)("div",{ref:l,style:{...i.value},class:"z-10 bg-[#fff] divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-gray-700 dark:divide-gray-600"},[(0,t.bF)("ul",{class:"py-2 px-2 text-sm text-gray-700 dark:text-gray-200","aria-labelledby":"dropdownActionButton"},[a.value.map((e=>(0,t.bF)("li",null,[(0,t.bF)("button",{onclick:()=>y(e),type:"button",class:"block w-full text-left px-4 py-2 rounded-sm hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},[e])])))])])])}}),H=(0,t.pM)({setup(){const e=D(),r=(0,d.rd)(),a=(0,t.KR)(null),o=r=>{e.changePage(r)},l=e=>{a.value!==e?a.value=e:a.value=null},s=()=>{e.isPopoverConfirmOpen=!0},n=r=>{e.handleDeleteProduct(r),e.isPopoverConfirmOpen=!1},i=(0,t.EW)((()=>Math.ceil(e.totalItems/e.itemsPerPage))),u=r=>{r&&e.handleCategorySelect("All Products"===r?"":r)};return{store:e,activePopoverId:a,router:r,totalPages:i,handleShowPopover:l,handleDeleteProduct:n,handleShowConfirmPopover:s,handlePageChange:o,handleCategoryClick:u}},render(){const{store:e,activePopoverId:r,router:a,totalPages:o,handleShowPopover:l,handleShowConfirmPopover:s,handleDeleteProduct:n,handlePageChange:d,handleCategoryClick:i}=this;return(0,t.bF)("div",{class:"relative"},[(0,t.bF)("div",{class:"filter flex items-center mb-5 gap-x-4"},[(0,t.bo)((0,t.bF)("input",{type:"text",class:"flex-auto px-4 py-2 border border-gray-200 dark:border-gray-700 rounded-md focus:outline-none  dark:bg-gray-800 dark:text-white",placeholder:"Search products...",onInput:r=>e.handleChangeInput(r),"onUpdate:modelValue":r=>e.searchQuery=r},null),[[t.Jo,e.searchQuery]]),(0,t.bF)(Z,{onCategorySelect:i},null),(0,t.bF)("div",{class:"flex justify-end"},[(0,t.bF)("button",{onClick:()=>e.isShowCreateModal=!0,type:"button",class:"block text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm  dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800 px-5 py-2"},[(0,t.eW)("Create New")]),e.isShowCreateModal&&(0,t.bF)("div",{class:"fixed inset-0 z-50 bg-gray-900 bg-opacity-50 flex items-center justify-center"},[(0,t.bF)("div",{class:"bg-[#fff] rounded-sm shadow-sm mx-4 dark:bg-gray-800"},[(0,t.bF)("div",{class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600"},[(0,t.bF)("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},[(0,t.eW)("Create New Product")]),(0,t.bF)("button",{type:"button",onClick:()=>e.isShowCreateModal=!1,class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-toggle":"crud-modal"},[(0,t.bF)("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[(0,t.bF)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"},null)]),(0,t.bF)("span",{class:"sr-only"},[(0,t.eW)("Close modal")])])]),(0,t.bF)(N,null,null)])])])]),(0,t.bF)("div",{class:"flex flex-col"},[(0,t.bF)("div",{class:"product-list w-full flex-1 max-h-[750px] overflow-x-auto min-h-[610px] bg-gray-100 dark:bg-gray-800"},[(0,t.bF)("table",{class:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400 rounded-sm max-h-[750px] overflow-auto "},[(0,t.bF)("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[(0,t.bF)("tr",null,[(0,t.bF)("th",{scope:"col",class:"px-6 py-3"},[(0,t.eW)("S/N")]),(0,t.bF)("th",{scope:"col",class:"px-6 py-3"},[(0,t.eW)("Product name")]),(0,t.bF)("th",{scope:"col",class:"px-6 py-3"},[(0,t.eW)("Description")]),(0,t.bF)("th",{scope:"col",class:"px-6 py-3"},[(0,t.eW)("Category")]),(0,t.bF)("th",{scope:"col",class:" px-6 py-3"},[(0,t.bF)("button",{onClick:()=>e.sortProductsByPrice(),class:"flex items-center gap-x-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-white"},[(0,t.bF)("span",{class:"text-gray-700 dark:text-gray-400 uppercase"},[(0,t.eW)("Price")]),"asc"===e.sortOrder?(0,t.bF)("svg",{class:"w-4 h-4 text-gray-700 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[(0,t.bF)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v13m0-13 4 4m-4-4-4 4"},null)]):(0,t.bF)("svg",{class:"w-4 h-4 text-gray-700 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[(0,t.bF)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 19V5m0 14-4-4m4 4 4-4"},null)])])]),(0,t.bF)("th",{scope:"col",class:"px-6 py-3"},[(0,t.eW)("Stock")]),(0,t.bF)("th",{scope:"col",class:"px-6 py-3"},null)])]),e.isLoading?(0,t.bF)(z,null,null):(0,t.bF)("tbody",null,[e.products.map(((o,d)=>{const i=(e.currentPage-1)*e.itemsPerPage+d+1;return(0,t.bF)("tr",{key:o.id,class:"bg-[#fff] dark:bg-gray-800 dark:border-gray-700 border-b hover:bg-blue-50 dark:hover:bg-gray-600 hover:cursor-pointer h-[56px]"},[(0,t.bF)("th",{scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},[i]),(0,t.bF)("th",{scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},[o.name]),(0,t.bF)("td",{class:"px-6 py-4"},[o.description]),(0,t.bF)("td",{class:"px-6 py-4"},[o.category]),(0,t.bF)("td",{class:"px-6 py-4"},[(0,t.eW)("$"),o.price]),(0,t.bF)("td",{class:"px-6 py-4"},[o.stock]),(0,t.bF)("td",{class:"px-6 py-4 flex items-center justify-end relative"},[(0,t.bF)("button",{onClick:e=>{e.stopPropagation(),l(o.id)},class:"hover:cursor-pointer text-[#fff]"},[(0,t.bF)("svg",{class:["w-6 h-6",r&&r===o.id?"text-blue-500 dark:text-blue-300":"text-gray-800 dark:text-gray-400"],"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[(0,t.bF)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-width":"3",d:"M12 6h.01M12 12h.01M12 18h.01"},null)])]),r===o.id&&(0,t.bF)("div",{class:"absolute bg-gray-100 dark:bg-gray-700 min-w-[max-content] top-[55px] right-4 z-50 py-2 px-1 rounded-sm flex flex-col shadow-lg"},[(0,t.bF)("div",{className:"absolute top-0 right-[10px] border-x-transparent border-t-transparent border-b-[10px]"},[(0,t.bF)("div",{class:"w-0 h-0 absolute right-0 -translate-y-full border-x-transparent border-x-[11px] border-t-transparent border-t-[9px] border-b-[9px] border-b-gray-100 dark:border-b-gray-700"},null)]),(0,t.bF)("button",{onClick:e=>{e.stopPropagation(),a.push({path:`product/${o.id}`})},class:"flex items-center gap-x-2 px-3 py-2 dark:child:text-[#fff] hover:bg-[#fff] dark:hover:bg-gray-600 dark:hover:text-white"},[(0,t.bF)("svg",{class:"w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[(0,t.bF)("path",{stroke:"currentColor","stroke-width":"2",d:"M21 12c0 1.2-4.03 6-9 6s-9-4.8-9-6c0-1.2 4.03-6 9-6s9 4.8 9 6Z"},null),(0,t.bF)("path",{stroke:"currentColor","stroke-width":"2",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"},null)]),(0,t.bF)("div",null,[(0,t.eW)("View Detail")])]),(0,t.bF)("button",{onClick:e=>{e.stopPropagation(),a.push({path:`update/${o.id}`})},class:"flex items-center gap-x-2 px-3 py-2 dark:child:text-[#fff] hover:bg-[#fff] dark:hover:bg-gray-600 dark:hover:text-white"},[(0,t.bF)("svg",{class:"w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[(0,t.bF)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.779 17.779 4.36 19.918 6.5 13.5m4.279 4.279 8.364-8.643a3.027 3.027 0 0 0-2.14-5.165 3.03 3.03 0 0 0-2.14.886L6.5 13.5m4.279 4.279L6.499 13.5m2.14 2.14 6.213-6.504M12.75 7.04 17 11.28"},null)]),(0,t.bF)("div",null,[(0,t.eW)("Edit")])]),(0,t.bF)("button",{onClick:s,class:"flex items-center gap-x-2 px-3 py-2  hover:bg-[#fff] dark:hover:bg-gray-600 dark:text-[#fff] hover:text-red-500 child-hover:text-red-500  dark:child-hover:text-red-500"},[(0,t.bF)("svg",{class:"w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[(0,t.bF)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 7h14m-9 3v8m4-8v8M10 3h4a1 1 0 0 1 1 1v3H9V4a1 1 0 0 1 1-1ZM6 7h12v13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7Z"},null)]),(0,t.bF)("div",null,[(0,t.eW)("Delete")])]),e.isPopoverConfirmOpen&&(0,t.bF)("div",{class:"fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 max-h-full bg-[#000] bg-opacity-80"},[(0,t.bF)("div",{class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 p-4 w-full max-w-md max-h-full"},[(0,t.bF)("div",{class:"relative bg-[#fff] rounded-lg shadow dark:bg-gray-700"},[(0,t.bF)("button",{onClick:()=>e.isPopoverConfirmOpen=!1,type:"button",class:"absolute top-3 end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-hide":"popup-modal"},[(0,t.bF)("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[(0,t.bF)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"},null)]),(0,t.bF)("span",{class:"sr-only"},[(0,t.eW)("Close modal")])]),(0,t.bF)("div",{class:"p-4 md:p-5 text-center"},[(0,t.bF)("svg",{class:"mx-auto mb-4 text-gray-400 w-12 h-12 dark:text-gray-200","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},[(0,t.bF)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"},null)]),(0,t.bF)("h3",{class:"mb-5 text-lg font-normal text-gray-500 dark:text-gray-400"},[(0,t.eW)("Are you sure you want to delete this product?")]),(0,t.bF)("button",{"data-modal-hide":"popup-modal",type:"button",onClick:()=>n(o.id),class:"text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 dark:focus:ring-red-800 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center"},[(0,t.eW)("Yes, I'm sure")]),(0,t.bF)("button",{type:"button",onClick:()=>e.isPopoverConfirmOpen=!1,class:"py-2.5 px-5 ms-3 text-sm font-medium text-gray-900 focus:outline-none bg-[#fff] rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700"},[(0,t.eW)("No, cancel")])])])])])])])])}))])])]),(0,t.bF)("nav",{class:"flex items-center flex-column flex-wrap md:flex-row justify-between pt-4 mt-auto","aria-label":"Table navigation"},[(0,t.bF)("span",{class:"text-sm font-normal text-gray-500 dark:text-gray-400 mb-4 md:mb-0 block w-full md:inline md:w-auto"},[(0,t.eW)("Showing")," ",(0,t.bF)("span",{class:"font-semibold text-gray-900 dark:text-white"},[(e.currentPage-1)*e.itemsPerPage+1,(0,t.eW)("-"),Math.min(e.currentPage*e.itemsPerPage,e.totalItems)])," ",(0,t.eW)("of")," ",(0,t.bF)("span",{class:"font-semibold text-gray-900 dark:text-white"},[e.totalItems])]),(0,t.bF)("ul",{class:"inline-flex -space-x-px rtl:space-x-reverse text-sm h-8"},[(0,t.bF)("li",null,[(0,t.bF)("button",{disabled:e.currentPage<=1,onClick:()=>d(e.currentPage-1),class:"flex items-center justify-center px-3 h-8 ms-0 leading-tight text-gray-500 bg-[#fff] border border-gray-300 rounded-s-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},[(0,t.eW)("Previous")])]),Array.from({length:o},((r,a)=>(0,t.bF)("li",{key:a+1},[(0,t.bF)("button",{onClick:()=>d(a+1),class:"flex items-center justify-center px-3 h-8 leading-tight text-gray-500  border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white "+(e.currentPage===a+1?"is-active bg-blue-50 text-gray-700 dark:bg-gray-700 dark:text-white":"bg-[#fff] dark:bg-gray-800")},[a+1])]))),(0,t.bF)("li",null,[(0,t.bF)("button",{disabled:e.currentPage>=o,onClick:()=>d(e.currentPage+1),class:"flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-[#fff] border border-gray-300 rounded-e-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},[(0,t.eW)("Next")])])])])])])}}),Y=(0,t.pM)({name:"Profile",setup(){const e=E(),r=localStorage.getItem("user"),a=r?JSON.parse(r).id:null,o=(0,t.Kh)({first_name:e.user?.first_name||"",last_name:e.user?.last_name||"",username:e.user?.username||"",email:e.user?.email||""}),l=()=>{e.fetchUserById(a)};(0,t.sV)((()=>{l()})),(0,t.wB)((()=>e.user),(e=>{e&&Object.assign(o,{first_name:e.first_name||"",last_name:e.last_name||"",username:e.username||"",email:e.email||""})}));const s=async r=>{r.preventDefault(),await e.handleUpdateUser({id:a,...o})};return()=>(0,t.bF)("div",{class:"bg-[#fff] dark:bg-gray-700 w-full flex flex-col gap-5 md:flex-row text-[#161931]"},[(0,t.bF)("div",{class:"w-full p-8 sm:rounded-lg"},[(0,t.bF)("div",{class:""},[(0,t.bF)("div",{class:"flex flex-col items-center space-y-5 sm:flex-row sm:space-y-0"},[(0,t.bF)("svg",{class:"w-40 h-40 text-gray-400 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[(0,t.bF)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1",d:"M12 21a9 9 0 1 0 0-18 9 9 0 0 0 0 18Zm0 0a8.949 8.949 0 0 0 4.951-1.488A3.987 3.987 0 0 0 13 16h-2a3.987 3.987 0 0 0-3.951 3.512A8.948 8.948 0 0 0 12 21Zm3-11a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"},null)])]),(0,t.bF)("form",{class:"items-center mt-8 sm:mt-14 text-[#202142]",onSubmit:s},[(0,t.bF)("div",{class:"flex flex-nowrap gap-5 w-full"},[(0,t.bF)(j,{class:"w-1/2",id:"first_name",name:"Your first name",modelValue:o?.first_name,placeholder:"Your first name","onUpdate:modelValue":e=>{o.first_name=e}},null),(0,t.bF)(j,{class:"w-1/2",id:"last_name",name:"Your last name",modelValue:o?.last_name,placeholder:"Your last name","onUpdate:modelValue":e=>{o.last_name=e}},null)]),(0,t.bF)(j,{id:"username",name:"User Name",modelValue:o?.username,placeholder:"your username","onUpdate:modelValue":e=>{o.username=e}},null),(0,t.bF)(j,{id:"email",name:"Your email",type:"email",modelValue:o?.email,placeholder:"your.email@mail.com","onUpdate:modelValue":e=>{o.email=e}},null),(0,t.bF)("div",{class:"flex justify-end"},[(0,t.bF)("button",{type:"submit",class:"text-white bg-indigo-700 hover:bg-indigo-800 focus:ring-4 focus:outline-none focus:ring-indigo-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-indigo-600 dark:hover:bg-indigo-700 dark:focus:ring-indigo-800"},[(0,t.eW)("Save")])])])])])])}}),G=[{path:"/",name:"Home",component:R,children:[{path:"dashboard",component:F},{path:"profile",component:Y},{path:"products",component:H},{path:"product/:id",component:O},{path:"update/:id",component:L}]},{path:"/login",name:"Login",component:U},{path:"/register",name:"Register",component:K},{path:"/:pathMatch(.*)*",redirect:"/"}],J=G,X=(0,n.wE)((function(){const e=d.LA,r=(0,d.aE)({scrollBehavior:()=>({left:0,top:0}),routes:J,history:e("/")});return r.beforeEach(((e,r,a)=>{const t=null!==localStorage.getItem("accessToken");t||"/login"===e.path||"/register"===e.path?!t||"/login"!==e.path&&"/register"!==e.path?a():a("/"):a("/login")})),r}));async function ee(e,r){const t="function"===typeof s.A?await(0,s.A)({}):s.A,{storeKey:n}=await Promise.resolve().then(a.bind(a,3245)),d="function"===typeof X?await X({store:t}):X;t.$router=d;const i=e(l);return i.use(o.A,r),{app:i,store:t,storeKey:n,router:d}}var re=a(2035),ae=a(4352),te=a(1391),oe=a(8351),le=a(7055),se=a(7984),ne=a(2507),de=a(8593),ie=a(1143),ue=a(3178),ce=a(8219),pe=a(192),ge=a(9091),be=a(3656),me=a(4701),he=a(5497),ye=a(7316),ve=a(4483),fe=a(1656),xe=a(9204),we=a(2659),Fe=a(8767),ke=a(7163),$e=a(2287),Pe=a(1710),Ae=a(24),Se=a(2979),_e=a(700),Ce=a(8899),Me=a(3472),We=a(6565),Be=a(885),Ve=a(1895),Ee=a(1177),Ie=a(5149),Qe=a(9055),Re=a(2013),je=a(2293),qe=a(1687),Te=a(2931),Ue=a(5194),Ke=a(8296),De=a(6723),Oe=a(8973),Le=a(9919),ze=a(3203),Ne=a(3059),Ze=a(8159),He=a(2449),Ye=a(1683),Ge=a(3727),Je=a(9097),Xe=a(4533),er=a(1578),rr=a(4199),ar=a(4850),tr=a(5084),or=a(5895),lr=a(2469),sr=a(9233);const nr={config:{},lang:re.A,iconSet:ae.A,components:{QLayout:te.A,QHeader:oe.A,QDrawer:le.A,QPageContainer:se.A,QPage:ne.A,QToolbar:de.A,QToolbarTitle:ie.A,QBtn:ue.A,QIcon:ce.A,QList:pe.A,QItem:ge.A,QItemSection:be.A,QItemLabel:me.A,QTooltip:he.A,QInput:ye.A,QCard:ve.A,QCardSection:fe.A,QCardActions:xe.A,QDialog:we.A,QForm:Fe.A,QFooter:ke.A,QAvatar:$e.A,QScrollArea:Pe.A,QImg:Ae.A,QTabs:Se.A,QTab:_e.A,QRouteTab:Ce.A,QTabPanels:Me.A,QTabPanel:We.A,QFab:Be.A,QFabAction:Ve.A,QSeparator:Ee.A,QBar:Ie.A,QSpace:Qe.A,QSelect:Re.A,QRadio:je.A,QTime:qe.A,QDate:Te.A,QPopupProxy:Ue.A,QTable:Ke.A,QTh:De.A,QTr:Oe.A,QTd:Le.A,QCheckbox:ze.A,QToggle:Ne.A,QSpinnerHourglass:Ze.A,QPageSticky:He.A,QTimeline:Ye.A,QTimelineEntry:Ge.A,QBadge:Je.A,QStepper:Xe.A,QStep:er.A,QStepperNavigation:rr.A},directives:{Ripple:ar.A},plugins:{Notify:tr.A,ClosePopup:or.A,Cookies:lr.A,Loading:sr.A}},dr="/";async function ir({app:e,router:r,store:a,storeKey:t},o){let l=!1;const s=e=>{try{return r.resolve(e).href}catch(a){}return Object(e)===e?null:e},n=e=>{if(l=!0,"string"===typeof e&&/^https?:\/\//.test(e))return void(window.location.href=e);const r=s(e);null!==r&&(window.location.href=r)},d=window.location.href.replace(window.location.origin,"");for(let u=0;!1===l&&u<o.length;u++)try{await o[u]({app:e,router:r,store:a,ssrContext:null,redirect:n,urlPath:d,publicPath:dr})}catch(i){return i&&i.url?void n(i.url):void console.error("[Quasar] boot error:",i)}!0!==l&&(e.use(r),e.use(a,t),e.mount("#q-app"))}ee(t.Ef,nr).then((e=>Promise.all([Promise.resolve().then(a.bind(a,9765)),Promise.resolve().then(a.bind(a,6947)),Promise.resolve().then(a.bind(a,5535))]).then((r=>{const a=r.map((e=>e.default)).filter((e=>"function"===typeof e));ir(e,a)}))))},6947:(e,r,a)=>{a.r(r),a.d(r,{default:()=>g});var t=a(4560),o=a(998),l=a(4097),s=a(603),n=a(3500);const d="I8wO1z13VIm7mTfTU5cwgjbhipveo4Dn4l320oVx7zzgFdanauc4g2bYn5qRw8nF",i=new o.P({uri:"https://neutral-rooster-35.hasura.app/v1/graphql",headers:{"x-hasura-admin-secret":d}}),u=(new s.D({typePolicies:{Query:{fields:{products:{keyArgs:!1,merge(e=[],r){return[...e,...r]}}}}}}),new n.R({link:i,cache:new s.D})),c=u,p="myadminsecretkey",g=(new o.P({uri:"http://localhost:8080/v1/graphql",headers:{"x-hasura-admin-secret":p}}),(0,t.zj)((({app:e})=>{(0,l._5)(c)})))},5535:(e,r,a)=>{a.r(r),a.d(r,{auth:()=>d,default:()=>i});var t=a(4560),o=a(6372),l=a(9120);const s={apiKey:"AIzaSyCsaQkf2U8MYdxKb7AE_7-N_XGo4iVbDiU",authDomain:"dashboard-management-7dac4.firebaseapp.com",projectId:"dashboard-management-7dac4",storageBucket:"dashboard-management-7dac4.appspot.com",messagingSenderId:"742943458605",appId:"1:742943458605:web:784483ff0319c76bf8bfa4",measurementId:"G-R6Y3L84018"},n=(0,o.Wp)(s),d=(0,l.xI)(n);(0,l.hg)(d,(async e=>{if(e){const r=await e.getIdToken();localStorage.setItem("accessToken",r)}else localStorage.removeItem("accessToken")}));const i=(0,t.zj)((({app:e})=>{e.config.globalProperties.$firebaseAuth=d}))},9765:(e,r,a)=>{a.r(r),a.d(r,{default:()=>l});var t=a(705),o=a(4560);const l=(0,o.zj)((({app:e})=>{const r=(0,t.Ey)();e.use(r)}))},3245:(e,r,a)=>{a.d(r,{A:()=>l});var t=a(4560),o=a(4299);const l=(0,t.M_)((e=>{const r=(0,o.y$)({modules:{module:{}},strict:!1});return r}))}},r={};function a(t){var o=r[t];if(void 0!==o)return o.exports;var l=r[t]={exports:{}};return e[t](l,l.exports,a),l.exports}a.m=e,(()=>{var e=[];a.O=(r,t,o,l)=>{if(!t){var s=1/0;for(u=0;u<e.length;u++){for(var[t,o,l]=e[u],n=!0,d=0;d<t.length;d++)(!1&l||s>=l)&&Object.keys(a.O).every((e=>a.O[e](t[d])))?t.splice(d--,1):(n=!1,l<s&&(s=l));if(n){e.splice(u--,1);var i=o();void 0!==i&&(r=i)}}return r}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[t,o,l]}})(),(()=>{a.d=(e,r)=>{for(var t in r)a.o(r,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}})(),(()=>{a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{a.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r)})(),(()=>{a.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{var e={524:0};a.O.j=r=>0===e[r];var r=(r,t)=>{var o,l,[s,n,d]=t,i=0;if(s.some((r=>0!==e[r]))){for(o in n)a.o(n,o)&&(a.m[o]=n[o]);if(d)var u=d(a)}for(r&&r(t);i<s.length;i++)l=s[i],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(u)},t=globalThis["webpackChunkquasar_vue3_tsx"]=globalThis["webpackChunkquasar_vue3_tsx"]||[];t.forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t))})();var t=a.O(void 0,[121],(()=>a(7452)));t=a.O(t)})();